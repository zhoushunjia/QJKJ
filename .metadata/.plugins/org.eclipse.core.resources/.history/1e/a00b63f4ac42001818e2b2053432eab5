!RCVC@GGS`rjs`D&=6KvdJipi)s`kqW;7~{bv^H
zKa)`Zz*pEb(QMHi(Ol8I|33R9+9ui|+9}#4+Ku{F`$Pvs2StZPM?^<O$3(|b@9MPZ
z3^cFKLG|h)bg!<8u8D4lZi;S+Zj0`S?uj1p^{eNi*P=I~52BB#e)U!KP4t~FV2PlC
z6(SB5hlz8E!^IKeyyARN!jg*>;%Ko_tP-om8nG6tSh3=`9A&IR!7i3jTv%L0oGvbk
z`dB70B{qvQ#1^qtY!lnX4*2q9ppxZ+PL>BsS$=UqTtZw@TuNM4TuxkGTtQq>TuEG6
zTt!?>TwPp4TvJ>dYFc&0^~CkX4a6<Qt;KD`ZN=@y9mE}>vDHP~L)=T;TijRNPdpH6
zTjQa%HBmeX^|q#pr-^eGx8{l$i<gL3i`R(Pir0zPi#LcjiZ_Wji?@ikinocki+6~3
ziFb?li4Ta6iBF18iO-17i!Y1si0^WxF7adW6Y*2=Gx2lr3-L?wEAeab8}VE5JMl;H
zC-G<T7x7o|cZpaMCdn-cmqbYNNb*UdBnnBiBt}v|Qb>{_(eb6PG)WOjx}=zdmYDz8
z{Blb?5}%}mq@<*b<S$8CNqI>{No7e@Np(pLNi9ijNgYXDNj*t@Nkd5!Ni#`vNlQsv
zNjphLNoPqHNq0#f$zaJ4$xz7%$v9|-O_ofR%$CfN%$3ZO%$F>XER-ygES4;hER`&i
zEQhk#YRMYOTFE-p7uzD)A=w>liXD&~L{+gPlB1GilH*VpJ1IFOIU_kMIVU+UxgfbH
zxdbN%SK#d6n&i6VhUBK?mgKhNj^wW7p5#7M$R10cN}fT9?1ki|<TdJ%y_39$Q-+U{
zuaa+)?{L;2l;Y^TK?)}hA<|Gdb;yOvWRcQ5(!A1q(kQ81s*pxYW28!{N~(r439U3g
zoax3%<Ade0g3@F-r$~X5id3myYLF7aep$M-sI-{0xYQ)2q_os5&5&B8HmP0ekY>Vp
zh7<Z`ZmCD=llr9rX$fgbsGXITmXZD?Eh{Z2EibJgtq5lxm8Dgr)uh#>HKaA+{G&FU
zfYg=Nlh&6ufRm6$(#Fyz(xz}C(p=g?+Dh75+6K->+DY4^W?Cm{XK5E{S7|p?PwOe|
zCG9QkBke2gC+#mCARQ<jBpoarA{~m(Qbs^kZKQORbhLDgbgXn7oUKfdPLxiTPJuI)
zY0~M^8PZwOInuds+Oj~p5YDrgN|*7ywYAcd(o@pY&|5nX#kGsjT)T{_YuBK=c0+ng
zdRux&dSCiL`cV2v`WThio=aazUrXOe-%8&}-%CG8KT1DKzevAIzsoQvw27e5mP-~c
zQ_57R)25Z>m&MBBWbv{BvLsnSzS*Xean&{hblXTMw-uJ9$%?>vdQn+1S#da3r=a9!
zmSxB+&~vlN?9g;$WKPs|^FZ0nEAz?x(03~Vr|+d?rQrnrFIjn61z9Cjd#fs|CaW&1
zA*(5?g-+({%IeAL%NocU${NWU%bLiV%9_cV%UZ}<%38@<^XK;MWgTQ4Wu0W5WnE-l
zW!+@m`IG$K(2e6x^ZP?PZlG*1I@KR08x9@0zo8^IN;X<H23m5HWL!yZs%*M!2AueF
zEx9?exzLlFFIxajxka+YvL&*mvSp|)w^FuRwnny=zYo|b+a%-e1h&ey$+kmrZV%iJ
z9FQH99fCW8BeJ8iW3uD26S9-C|Bt!5U~?PG_q82P*=3efc9B6w*|KG}#kM4enVFfH
znVFe7%#0m|4l^?|Gvit1RHrjNGkfnjXTR6=evP&Mzvn)abT;W+(uJgpNtco?CtXRp
z3Vsl7Cf!Q9o%lz1kn}L=QPSh2CrM9}o+Uj8b-I^HuaaIT{ubUPy-)g(^fBpE(&wZf
z{|q@qIYqg^Z$lnYUQs?#eo<25-ys?F?BpV)2okA98j)6%DoPWjgTh^=NGH;Zj3QWM
z5}8F-kqtEO5Rn6P?@*CT<Q8EfkH{<XiTt8~C@hMJs(|`kZBZRjT~R$zeNh8ZLs279
zV^G3tDr%Of;k6RA1}(f!qOPKDq8_52qF$ojqCTR&qJE<Oq9LN8qG6)ppprLAG+H!9
zG*&c0G*vW1G*k2&Xy(lUy}bFN1)_zbMWV%`C8A}b<)Rg!ptoAIMzmJ6PPAUML9|h{
zNwitCMf8Vgk7yq#>;35J9T%MtofMrCoe`Y{g}sZS%ix{yn&^h;W}>!tS9DKwU-Urq
z5H$B5i=K#{g7V&T(F@T_(JRqw(HqfQ(L2$5(Ff5-(I?Rt(O1#8M3*nOIG;GbSOnfG
zv)X(baVn_uWq>}PUThE>#jw~Uwuo(FJ81Pe#7;3Pc8T3Tt9>DHSR4`KVnR%cdC==C
zDJ~^0ohbE{6PFiP5NGxJDkqA4HN>?O&A$5L2I7X|M&iceCgP^z=Hiy1-q%{(M%+%^
zUfe<4QQTSFMciH7L)=r`OWa%BSKLqBUpzoOP&^0}{)UQ&iARgah{uU1i>HXEil_g0
zSryL`&lb-S&lS%T&lfMqZvQO-^}iM3mEzUnHHq%uM)79x7V%c`PVp}B9`RoBe(?eE
zA@MQs8Sz>1CGlnPUGW3)Q}G+|JMnw*hpe)n_;a#4xj?cF6#g8^b(8BQ*H3Pc+%UOO
za^vJCp!3%Zl>S;Iw*;lX5y>M#=Wjyt#N^4z)01Z;&q|(~JTG}+^5Wzb$*Yprfac$(
z<ju)jlD8&rOWqEue|wVmChtq$pL{U+Q1X%Fqu^cm&)(nZ<TJ@<lg}lePri_RG5J#R
z<>V`g^56BJ?Y}$8ca!fW-v_^FKMH`)lCv6sFB28OH_304-zC3K{*e4J`AhQG<ZqH3
zlAMy<l01^Ul6;c<k|c>pB9<geWD-cCmJ|TZK#fEzNtL7}+JTvgdY~!M541}Vi9_O)
zpr9n^mSBmRpkES@1SPD5mlOhB!J?89k}{IYlB$y0l6sQ*k_MnO*h10;ylwZE^py;i
z43mtOOqToxUb<&X=1AsAR)PB98qgoy01AYgB|9WLCA%cMC4WfvNcKwhN%l()NDfL4
zNe)YnNRCR*fY<R0lFO27k{gmclDm@olE;!KlBbgAk{6QKpk4T0@<H-Z@=5Yp@<sAh
z@=fwxnnRjXnoF8nnpc`66-mWXiBu|;N##<N6q2f?1*9p`RB4*jAT>)ZQmfP^b%2+5
zRO*ttr5NZRdZj+8UmB1Gr6Flp8j<2sLP|<0DJ^BBET|)LQeG-Z3rY+9>?9VKmXMZ|
zmXel}X8ny-1ixdIrBy&Tv4*s!w3f8Cw63(Cw7xW}oY+*_61?%ZmbQ_$leU+3kam=I
zl6D6F_+6#lq&=klr2VA>Kv!{iqO3SxI#oIiloe<EY%9(Kb;ZTfrP5{66^X{;YU!Hn
z&f<^8;#TQ4>Gniv@vqL}eo$IGC_MyPi^rrVKxy%GqP2KFQCqwWdW%=3H>5YEx1_hF
zcR+jb9;h!qkUo??l0KF`kv^5al)jR_k-n9_lfIXJkbahalYW=wkmUr|26<$8W%*?J
zWl1uTOe~Ygq%xUI4sH;Xf4f3Rmu1K@WjdK&W{??Wu*@Vg%PcaR%r0}toHA7AlDTD=
z%p>#4d@{c*0DcuiGF(Q;NEs!gW&iH-peQIqmXwu}m6nx}m6er~m6uhJRg_hdRhCte
zRh3nf)sWSc)soeg)d7Dg^<)iX4P}jFtz>Ow?PVQgon>8QU1i;6eZVivAlYEqP}wlq
z2-zrE*6qSL*?8H1cDb-zwnDa2_UqlkM%nM+YGI3Pn{0<{r|ieQ!arUs9G9Jxod(s)
zbFv>73YTS9W!GdkWH-T&&u!VSw+WABPh?MJ&;HxHgxtT}BZ%e6;Lk`3N|;KyI`Ma;
zm8Z(n<e7;orcn;dO>(o`BDaEj1v|J{aL7@)OYW9qa*y06&njjH<so@kjwh;_QP9og
z<UF`#C@e3MC}@_HmjV^dGV-$7CC$q6>hc=dJ<a;^2H?t}k-RbZt7<B5CT}ipA#Vxl
znr*=4Lp#ve>>%%$=xlb8ca?XOcL%-AUh>}ZKJvcue)9hE0rG+JLGr=!A>c}4xO{|s
zq<oBgoP4}|f_$QUl6*2Kb54^_m(P&T1clC7^4apa@_F+4@&)pR^2MOoxlF!XzCyk-
zQSMyxv)#ExzFodkzDvGa{>LvJ&qMOVpyYWJv^-D9Ps&fpPs`89&&toq&&w~!FUl{;
zFUzmUugb5>Z^&<g+UITg9r<1PJ^6k4L-`~5V^IHmDt`tFpf5lJ^p*T|q67L~{sCMs
ze3E~bf02Kcf0KV#<WS^P<Wl7RFRwiyg<A0+-g+op3bz7NctCeFpa?3$iiiRS1yWK$
zDOk`U<rF0qH54@!?G+sq9TlAwT@>9E-4#7RnY6c}kD{*v{M0K3Br2st6hjrm6vIKS
zbfjW}Vy<GIV!mR5Vv%C8Vu@m@VwqyOVufO*VwGaGVy$8w_;uU>nx>l*P19|P?VxMA
z6O>K&fVSxYMON4JnButNgyIxvo1RgeRh(0tS6onBSKRxhboyHHM)6kh4*XnxQhZi?
zNpw&1D)TAxE0aL^RIE%^N|aKiT&Ykhl`18qR4WT8Q<NH|R+*|yQ>H63l$lC{(x`-$
zCZ$zrQzA--(y2t19;H|5R|b?pWk|^=S!Gli1NBrv8CMom7E%^g7F8BgmH^iYm6cVL
zRh8A0)s;1rwUo7$b(Qs$4Zz=NGi8hH|I;6p)h^1e%5KW;${xy|%3jJo%D#!>>PY42
zL~nH*D6URWPEt+=-PP&J8OoX9w{^C1u5zAozH)(bp>nZuiE^oOnR0oe$hrai#Qv__
zq};6Bs@w*;th<$ava75Iln0fE5^dIF$`i_y%2UeI%B()?Ipulf1?9zm>a^Zf-dAQd
zS|2GNgHG#H<um1T<qPG@M6vaa@~!fn^1bqd@}u&T^7D^=tMa=lhbpHkk1DS!pDIZu
zR!LNHl|rRdWi?z=R2r35m8wcprK>VjnJS%1uQIA&l}Tk*SyWb)O=VXhDu>Fca;e-Z
zkIJj^sr;&-Dx?a7>MO1yRHTYh(V+jzs$!r3%O@JJ1yzMqg;hmB3$~c5gsPOPw5p7%
ztg4)<ysDzA5-7t~QB_q{Q&m^hP}Nk`R@G6}S2a*IR5emHRy9#IRW(<&P_<OGQngmK
zRkc&KS9MTzRCQ8yR&`NzRdrK!SM^Z!RP|Ez23^^{s(z~es)4FOs==T!J5)6cbY@4W
zMkZRbV^rf*<5d$?Q&dw`(^S({GgLEGzo}-aW+y7N^HmE}3ss9$i&aZhOF@%%m1<3*
zOS@jRQT4lOlWMbSi)yQCn`*mihiWHi)$UgPq1vO`r`oSNsX7J9wa-*9RIgQUe%`r!
zR((-@Regi<LP?MaN(NP1DI|jwkP=csM#v61Avc6UUdRsxpb!*>A`lJ{5D8Hb4KYv@
z6mSJ74i$t7fq(j<P;saPR1zu$m4?bdWubCVd8h(Z5vl}LhN?hSp=wZds0LIMss+`C
z>Ogg&dQg3+0n`u_bQ?oWpr%kWs5#UUY6Z1{+CuH1_D~0?BWUY(fx3deZg;2$)D!9j
z^@jRDeW89(e`o+S5E=vxhK4{xp<&Q)XaqD88U>Ap#z14CanN{Z0yGht1WksfKvSV<
z&~#`9G!yy_ngz{<=0J0ydC+`l0kjBO3@w3{Ld&4#&<beHKeT%{gX^t-uJ`VP{_OW2
zhK@i-p<~c-=maSFo`%jqXQ6Y@dFTRk5xN9jhOR(Yp=;1}=mvBXx&_^a?m%~;tiJC<
zaLw=-dICL#o<Yx{7tl-S74!yr3%!HhL!W*Wf1&T7`I}3fSDjCtUoBFL)e^N_txzk~
zS=HYHp!=%@-QP5Ix;jIhsn)6WYJ=LShSesuS#42U)i$+Vji?=Jry5ne)NVDV_NcvT
zpW3eusDtW|I;@VUaW$bP)s&i6Gip{HRmapEC<zPdxVoUau)2u4sJfWCxVnV86j)T2
zQI}PhQ<qm)05?&U)Rom$)K%5h)Ya8B)HT($)V0-hz~-{Px`Dc(x)Io3Hc>YPms8Eb
z0<*Qcjk;}io46yW6L$uE;;dC>4|Pv<FLiHqA9Y`KKXrfg0QJEC>!s$(f4Ruq^2;9c
zAJ>?FZZVImPpHo%u1GHY2Mf&S>X+)*{|np8tmS2DVs)wew|h%>0jz+h!2kZ*vRa}6
zUF(;nWy1oEK?%C)zgby!{tp(Gqq6svlff0v)B@A9H<fb>%quYeAGVY$3al)!s=(?3
zYYMFWxuo3mzp$gc^8f1<C7SYMLFrEkrr_DDNj4>#68pKB%-Ty9O)2)vTC(gfJITMV
zB(oNhO;ehsv`NWYME<#i?3dC%arrbTWpK)nl>cwGj~h~cPx<@qad+10F=cPcKG63*
zm~tpl_&%0$Jmo~nsg%>8^nEtvT*~>B3n>>t^ZRn5`h6XAzi)x^_Z`swzL#=8<w45h
zlqV@qQ=X+fPkE8@@@EPB9k_%1kn%C*Q_8oL@8BLXk0!q+Nh1PRk;&jLQl^n7I^k+i
z2+sgFl6s8+TzpwIHVvY2Xq*~U<I=b_n8u^=YJA{=GN1`+LYlB9qQNzUhSJcQn1<KH
zH3c<=G(|PVG{rR~G$ns&i&xZC(p1q@)l>t0@j9BunkJg2nr52jnijt_#oKE-XtJu}
zoi$xF-8DTmy)=D5S$v>oD7e%dp&6+er5UXmqZ#{8SDV{GbNmSCjGxq;(wx?u(VW$s
z)11$4j$hSW)7;S9(%jM9)!ftE*F4ZX1Re6nnkSm4pho^&^8ysfUuoWG-f7-zK4?CH
zF8No@H*F4WPHir29<4+x)ylMT&?i@B7s@qSEohWyXfw4sP$`GCCao3RiQ2V@)}eK4
zF;FV^YW><kqE{Z)MnJKg(2`n8OKTY|tBrzwIR^^nMYKi16<rB!No^TzS#3FRXIcSV
znpV<Q2A6eJwben{yr#C6wzjs8wt=>xwvo1Z;`X$IwxhNasG4`xcGGs(_DtNN_S5#)
z4$uzN4$=<R4$%(P4$}??m#HJQqqL*7W3&^sleCkyQ?ygH)4{dsOzkY~Z0#KFT<tvV
ze9%Q-s9mI8tX-1mqc7L4(5}?3(yj)b^mW?x+Kq`;`WEe0?T^LmE^y&`Kzk6ZWB=U7
zX6<6HfR_3-?T<a|oxkm1pKD)eU;fhu_FHOBuzby*DoHF|6{*VXjjQ&b7Op?mt$%J?
z(NuTp-*>H%R6LbPCBdyB{V!Ing+bN5cxuViQsDluOybhE0$8$ENv)PzBeiB~t;B}4
zUTXc+|NH%Ff6$Eo`+9ZsFU!@*iPh@##AbCi*sK1!R$T^`sw;o4Q@5r5SF6;2ze&wn
zr2e@_z5UA?_17ipUpv$fsefOg=1R+*mM1N5TK=?uzd-%x^{FupPBVd<<-fM4&VRE!
z{rm1TYjIlWAGW6dFH6(EcBUQw<9+Gaf7q5z|A$@a|9nsSk89GsKbNFO(~hT|N;{MG
z*Lw6?+V!-*7NZZ+9;Q74a==rd2E6#W6@8cXKJ8P&4*0PU&7GbnJ#Tux^!$I@h5qYR
zs39FrH>I1?E$Oy&d%7dtnU1FaSc3Y~1L=`;Je^1<)3er}+&}C-i-8OBa_QyMD*&0G
za(b0)ouEN_<Mh8aovqUUTy%Cw@0i{xy$di4x~2cW>^T3v;#`=%<Ud?zo&j6T>)99V
z|GdI{{!a_cPl@aHU)Ps;GxCE=_pJNj|9*M-*XlBBb7{-?pD!-ij9B*4vT#Ppj8Yk;
zGs<L?%_x^qKBGcL#f(ZBl{2bjRL!WCQ9YwZM$L>`8MQO&WYo>52kz{DY%70VR{pxH
z>;yKISvEvZaEISFqhDf4IXL5A?<oJiqWp71`R9UiQDQZ@{=ZpC9?CeJ@na$RU+*Jt
zWc+WhBgL7?*^2@>P%pBUkp;jd_g}lnEc@cGJ!IAz(wX_!4l?i$+s9buf4_YEcdN&`
zK+O2}YsXHRoin>+cKx|>{B`3vICE%b*1mCM<|v?RjLH15Zp_*?P64~d8Hw#f)}nDf
z*gq`J{IP#now+7+UFQ1C4VhW%#jXFlyT!~0nGZ7`Wj@J#n)xjAdFD%?d%VefoB1yD
zedY(?e0<LQn)&^w^^rGQ`$*PFbW)v6C)X)-N}Wmv>C`$cxRlrF^g4sisDpJTompqm
zS#@?DqI2k+;D+9%bL%jmgLuJqE1(PNLb@=xt0#1%j?&ROCLx9hy11^Ou8^*<uBfh<
zuDGs*uB5J%uC%U<uB@({u6#lhsq~8{QcG7yS65e0S6|lv$RcfYZFTK+9dsRaophab
zU4SvtQ`alujP%tF)(z1O)eX}P*NxDP)Q!@O){RN%BNKE

        return exports;
    };

    /* 元素 */
    var target = document.getElementsByClassName("personal-car")[0];
    //var target = document.getElementsByClassName("basket-car")[0];

    // 抛物线元素的的位置标记
    var $shoppingCartBtn=$(".shoppingCartBtn");
    var parabola = funParabola($shoppingCartBtn[0], target).mark();
    parabola.flag=false;
    // 抛物线运动的触发 配合剑剑触发
    $(document).on("addShoppingCart", function (e,data) {
        if($("#mini").length||!$(".goods-pay").length) return;
        var obj=$.parseJSON(data.cartItem);
        data.count=obj.count;
        var srcPath=obj.picPath;
        $("<div class='mini' id='mini'> </div>").appendTo($("body"));
        $.ajax({
            url: "/shoppingcart/updateCart",
            type: "post",
            data: data,
            dataType: "json",
            success: function (json) {
                if(json.status==200){
                    $(".mini").css({
                        "left":($shoppingCartBtn.offset().left - $(window).scrollLeft())+60+"px",
                        "top":($shoppingCartBtn.offset().top - $(window).scrollTop())+"px",
                        "background-image": "url(" + srcPath + ")",
                        "background-size": "100% 100%"
                    });
                    setTimeout(function () {
                        $("#mini").show();
                        parabola.init(document.getElementById("mini"));
                    },400);
                    //对比数据开始
                    var arr=obj.specificationId.split("");
                    var str=obj.id;
                    for(var i=0;i<arr.length;i++){ str+=arr[i] };
                    var $liList=$(".wqd-buyCar .detail-list li");
                    $liList.length?parabola.exist(obj,$liList,str):parabola.joinData(obj);
                }else {
                    $("#mini").remove();
                }
            },
            error:function(){
                $("#mini").remove();
            }
        })


    });
    parabola.exist = function (obj, $liList, str) {
        var flag = true;
        $liList.each(function (i, _) {
            var _str = $(this).attr("id");
            _str+=$(this).find(".detail-describe").attr("sizeid");
            if (str == _str) {
                var $same = $(this).find(".number");
                $same.text(parseFloat($same.text()) + parseFloat(obj.count));
                flag = false;
                return false;
            }
        });
        flag && parabola.joinData(obj);
    };
    parabola.joinData = function (data) {
        var $li = $("<li id=" + data.id + "><span class='edit-radio active'></span> <dl class='clearfix'> <dt><a href="+data.itemLink+"><img src=" + data.picPath + " alt=''/></a></dt> <dd class='detail-title' title=" + data.name + "><a href="+data.itemLink+">" + data.name + "</a></dd> <dd class='detail-describe' sizeid="+data.specificationId+"> </dd> <dd class='detail-model'> <i class='num-reduse'></i> <span class='number'>" + data.count + "</span> <i class='num-add'></i> <span class='price'>￥<b class='unit-price'>" + data.price + "</b></span> <em class='delete'></em> </dd> </dl> </li>");
        $li.appendTo($(".detail-list"));
        var $lastLi = $(".detail-list li:last");
        if ($(".detail-list li").length == 1){$lastLi.addClass("list-first");}
        var arr = data.specificationValue.split("_"), $span;
        for (var i = 0; i < arr.length; i++) {
            $span = i == 0 ? $("<span class='describe-first'>" + arr[i] + "</span>") : $("<span>" + arr[i] + "</span>");
            $span.appendTo($lastLi.find(".detail-describe"));
        }
        //判断是不是新数据
        parabola.flag=true;
    };

})($);
