window.TILE_VERSION={"ditu":{"normal":{"version":"088","updateDate":"20171115"},"satellite":{"version":"009","updateDate":"20171115"},"normalTraffic":{"version":"081","updateDate":"20171115"},"satelliteTraffic":{"version":"083","updateDate":"20171115"},"mapJS":{"version":"104","updateDate":"20171115"},"satelliteStreet":{"version":"083","updateDate":"20171115"},"panoClick":{"version":"1033","updateDate":"20171116"},"panoUdt":{"version":"20171116","updateDate":"20171116"},"panoSwfAPI":{"version":"20150123","updateDate":"20150123"},"panoSwfPlace":{"version":"20141112","updateDate":"20141112"},"earthVector":{"version":"001","updateDate":"20171115"}},"webapp":{"high_normal":{"version":"001","updateDate":"20171115"},"lower_normal":{"version":"002","updateDate":"20171115"}},"api_for_mobile":{"vector":{"version":"002","updateDate":"20171115"},"vectorIcon":{"version":"002","updateDate":"20171115"}}};window.BMAP_AUTHENTIC_KEY="XWDHBDMhL29b8kTlXNWdFtvf";(function(){function aa(a){throw a;}var j=void 0,o=!0,p=null,q=!1;function s(){return function(){}}function ba(a){return function(b){this[a]=b}}function u(a){return function(){return this[a]}}function ca(a){return function(){return a}}var da,ga=[];function ha(a){return function(){return ga[a].apply(this,arguments)}}function ia(a,b){return ga[a]=b}var ja,x=ja=x||{version:"1.3.4"};x.ba="$BAIDU$";window[x.ba]=window[x.ba]||{};x.object=x.object||{}; x.extend=x.object.extend=function(a,b){for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a};x.D=x.D||{};x.D.$=function(a){return"string"==typeof a||a instanceof String?document.getElementById(a):a&&a.nodeName&&(1==a.nodeType||9==a.nodeType)?a:p};x.$=x.Dc=x.D.$;x.D.U=function(a){a=x.D.$(a);if(a===p)return a;a.style.display="none";return a};x.U=x.D.U;x.lang=x.lang||{};x.lang.tg=function(a){return"[object String]"==Object.prototype.toString.call(a)};x.tg=x.lang.tg; x.D.Pj=function(a){return x.lang.tg(a)?document.getElementById(a):a};x.Pj=x.D.Pj;x.D.getElementsByClassName=function(a,b){var c;if(a.getElementsByClassName)c=a.getElementsByClassName(b);else{var d=a;d==p&&(d=document);c=[];var d=d.getElementsByTagName("*"),e=d.length,f=RegExp("(^|\\s)"+b+"(\\s|$)"),g,i;for(i=g=0;g<e;g++)f.test(d[g].className)&&(c[i]=d[g],i++)}return c};x.getElementsByClassName=x.D.getElementsByClassName; x.D.contains=function(a,b){var c=x.D.Pj,a=c(a),b=c(b);return a.contains?a!=b&&a.contains(b):!!(a.compareDocumentPosition(b)&16)};x.da=x.da||{};/msie (\d+\.\d)/i.test(navigator.userAgent)&&(x.da.la=x.la=document.documentMode||+RegExp.$1);var ka={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",rowspan:"rowSpan",valign:"vAlign",usemap:"useMap",frameborder:"frameBorder"};8>x.da.la?(ka["for"]="htmlFor",ka["class"]="className"):(ka.htmlFor="for",ka.className="class");x.D.AG=ka; x.D.mF=function(a,b,c){a=x.D.$(a);if(a===p)return a;if("style"==b)a.style.cssText=c;else{b=x.D.AG[b]||b;a.setAttribute(b,c)}return a};x.mF=x.D.mF;x.D.nF=function(a,b){a=x.D.$(a);if(a===p)return a;for(var c in b)x.D.mF(a,c,b[c]);return a};x.nF=x.D.nF;x.Rk=x.Rk||{};(function(){var a=RegExp("(^[\\s\\t\\xa0\\u3000]+)|([\\u3000\\xa0\\s\\t]+$)","g");x.Rk.trim=function(b){return(""+b).replace(a,"")}})();x.trim=x.Rk.trim; x.Rk.Po=function(a,b){var a=""+a,c=Array.prototype.slice.call(arguments,1),d=Object.prototype.toString;if(c.length){c=c.length==1?b!==p&&/\[object Array\]|\[object Object\]/.test(d.call(b))?b:c:c;return a.replace(/#\{(.+?)\}/g,function(a,b){var g=c[b];"[object Function]"==d.call(g)&&(g=g(b));return"undefined"==typeof g?"":g})}return a};x.Po=x.Rk.Po; x.D.Sb=function(a,b){a=x.D.$(a);if(a===p)return a;for(var c=a.className.split(/\s+/),d=b.split(/\s+/),e,f=d.length,g,i=0;i<f;++i){g=0;for(e=c.length;g<e;++g)if(c[g]==d[i]){c.splice(g,1);break}}a.className=c.join(" ");return a};x.Sb=x.D.Sb; x.D.Ix=function(a,b,c){a=x.D.$(a);if(a===p)return a;var d;if(a.insertAdjacentHTML)a.insertAdjacentHTML(b,c);else{d=a.ownerDocument.createRange();b=b.toUpperCase();if(b=="AFTERBEGIN"||b=="BEFOREEND"){d.selectNodeContents(a);d.collapse(b=="AFTERBEGIN")}else{b=b=="BEFOREBEGIN";d[b?"setStartBefore":"setEndAfter"](a);d.collapse(b)}d.insertNode(d.createContextualFragment(c))}return a};x.Ix=x.D.Ix;x.D.show=function(a){a=x.D.$(a);if(a===p)return a;a.style.display="";return a};x.show=x.D.show; x.D.ED=function(a){a=x.D.$(a);return a===p?a:a.nodeType==9?a:a.ownerDocument||a.document};x.D.Ua=function(a,b){a=x.D.$(a);if(a===p)return a;for(var c=b.split(/\s+/),d=a.className,e=" "+d+" ",f=0,g=c.length;f<g;f++)e.indexOf(" "+c[f]+" ")<0&&(d=d+(" "+c[f]));a.className=d;return a};x.Ua=x.D.Ua;x.D.CB=x.D.CB||{};x.D.Kl=x.D.Kl||[];x.D.Kl.filter=function(a,b,c){for(var d=0,e=x.D.Kl,f;f=e[d];d++)if(f=f[c])b=f(a,b);return b}; x.Rk.rO=function(a){return a.indexOf("-")<0&&a.indexOf("_")<0?a:a.replace(/[-_][^-_]/g,function(a){return a.charAt(1).toUpperCase()})};x.D.D_=function(a){x.D.$s(a,"expand")?x.D.Sb(a,"expand"):x.D.Ua(a,"expand")}; x.D.$s=function(a){if(arguments.length<=0||typeof a==="function")return this;if(this.size()<=0)return q;var a=a.replace(/^\s+/g,"").replace(/\s+$/g,"").replace(/\s+/g," "),b=a.split(" "),c;x.forEach(this,function(a){for(var a=a.className,e=0;e<b.length;e++)if(!~(" "+a+" ").indexOf(" "+b[e]+" ")){c=q;return}c!==q&&(c=o)});return c}; x.D.sj=function(a,b){var c=x.D,a=c.$(a);if(a===p)return a;var b=x.Rk.rO(b),d=a.style[b];if(!d)var e=c.CB[b],d=a.currentStyle||(x.da.la?a.style:getComputedStyle(a,p)),d=e&&e.get?e.get(a,d):d[e||b];if(e=c.Kl)d=e.filter(b,d,"get");return d};x.sj=x.D.sj;/opera\/(\d+\.\d)/i.test(navigator.userAgent)&&(x.da.opera=+RegExp.$1);x.da.kM=/webkit/i.test(navigator.userAgent);x.da.lY=/gecko/i.test(navigator.userAgent)&&!/like gecko/i.test(navigator.userAgent);x.da.qE="CSS1Compat"==document.compatMode; x.D.ha=function(a){a=x.D.$(a);if(a===p)return a;var b=x.D.ED(a),c=x.da,d=x.D.sj;c.lY>0&&b.getBoxObjectFor&&d(a,"position");var e={left:0,top:0},f;if(a==(c.la&&!c.qE?b.body:b.documentElement))return e;if(a.getBoundingClientRect){a=a.getBoundingClientRect();e.left=Math.floor(a.left)+Math.max(b.documentElement.scrollLeft,b.body.scrollLeft);e.top=Math.floor(a.top)+Math.max(b.documentElement.scrollTop,b.body.scrollTop);e.left=e.left-b.documentElement.clientLeft;e.top=e.top-b.documentElement.clientTop; a=b.body;b=parseInt(d(a,"borderLeftWidth"));d=parseInt(d(a,"borderTopWidth"));if(c.la&&!c.qE){e.left=e.left-(isNaN(b)?2:b);e.top=e.top-(isNaN(d)?2:d)}}else{f=a;do{e.left=e.left+f.offsetLeft;e.top=e.top+f.offsetTop;if(c.kM>0&&d(f,"position")=="fixed"){e.left=e.left+b.body.scrollLeft;e.top=e.top+b.body.scrollTop;break}f=f.offsetParent}while(f&&f!=a);if(c.opera>0||c.kM>0&&d(a,"position")=="absolute")e.top=e.top-b.body.offsetTop;for(f=a.offsetParent;f&&f!=b.body;){e.left=e.left-f.scrollLeft;if(!c.opera|| f.tagName!="TR")e.top=e.top-f.scrollTop;f=f.offsetParent}}return e};/firefox\/(\d+\.\d)/i.test(navigator.userAgent)&&(x.da.nf=+RegExp.$1);/BIDUBrowser/i.test(navigator.userAgent)&&(x.da.u1=o);var la=navigator.userAgent;/(\d+\.\d)?(?:\.\d)?\s+safari\/?(\d+\.\d+)?/i.test(la)&&!/chrome/i.test(la)&&(x.da.gF=+(RegExp.$1||RegExp.$2));/chrome\/(\d+\.\d)/i.test(navigator.userAgent)&&(x.da.cC=+RegExp.$1);x.kc=x.kc||{}; x.kc.Gb=function(a,b){var c,d,e=a.length;if("function"==typeof b)for(d=0;d<e;d++){c=a[d];c=b.call(a,c,d);if(c===q)break}return a};x.Gb=x.kc.Gb;x.lang.ba=function(){return"TANGRAM__"+(window[x.ba]._counter++).toString(36)};window[x.ba]._counter=window[x.ba]._counter||1;window[x.ba]._instances=window[x.ba]._instances||{};x.lang.jt=function(a){return"[object Function]"==Object.prototype.toString.call(a)};x.lang.Ca=function(a){this.ba=a||x.lang.ba();window[x.ba]._instances[this.ba]=this}; window[x.ba]._instances=window[x.ba]._instances||{};x.lang.Ca.prototype.gi=ha(0);x.lang.Ca.prototype.toString=function(){return"[object "+(this.wQ||"Object")+"]"};x.lang.Xy=function(a,b){this.type=a;this.returnValue=o;this.target=b||p;this.currentTarget=p}; x.lang.Ca.prototype.addEventListener=function(a,b,c){if(x.lang.jt(b)){!b.al&&(b.al={});!this.Gi&&(this.Gi={});var d=this.Gi,e;if(typeof c=="string"&&c){/[^\w\-]/.test(c)&&aa("nonstandard key:"+c);e=b.Ax=c}a.indexOf("on")!=0&&(a="on"+a);typeof d[a]!="objec 1792 1792" xml:space="preserve">
+									<circle stroke-linecap="square"
+										stroke-width="10.143396226415096" fill-rule="evenodd"
+										clip-rule="evenodd" fill="#74ACCA" cx="895.914" cy="896"
+										r="895"></circle></svg>
+							</div>
+						</div>
+						<div wqdpath_width="0.5660377358490566" wqdpathstrok="#bfbfbf"
+							wqdpathfill="#ffffff" wqdhref="0" data-zindex="15"
+							style="width: 130px; height: 115px; left: 0px; top: 728px; z-index: 15;"
+							id="elementid14514635182270" elementid="elementid14514635182270"
+							class="wqdelementEdit" data-elementtype="svg"
+							data-elemandgroup="true">
+							<div class="wqdelementEditBox">
+								<svg class="wqd-svg" xmlns="http://www.w3.org/2000/svg"
+									xmlns:xlink="http://www.w3.org/1999/xlink"
+									viewBox="-40.14339622641509 -10.143396226415096 1812.2641509433963 1812.2641509433963"
+									enable-background="new 0 0 1792 1792" xml:space="preserve">
+									<circle stroke-linecap="square"
+										stroke-width="10.143396226415096" fill-rule="evenodd"
+										clip-rule="evenodd" fill="#74ACCA" cx="895.914" cy="896"
+										r="895"></circle></svg>
+							</div>
+						</div>
+						<div wqdhovercolor="#333333" data-animation-iteration-count="1"
+							data-animation-delay="0" data-animation-duration="1"
+							data-animate="rotateIn" wqdpathfill="#949494" wqdhref="0"
+							data-zindex="16"
+							style="width: 40px; height: 40px; left: 45.8167px; top: 424px; z-index: 16;"
+							id="elementId1451463537951" elementid="elementId1451463537951"
+							class="wqdelementEdit aniTriOther" data-elementtype="icon"
+							data-elemandgroup="true">
+							<div style="" class="wqdelementEditBox">
+								<svg class="wqd-svgicon" viewBox="-250 -250 2392 2392"
+									xmlns="http://www.w3.org/2000/svg">
+									<path fill="#999"
+										d="M704 896v-384h-256v256q0 53 37.5 90.5t90.5 37.5h128zm1024 448v192h-1152v-192l128-192h-128q-159 0-271.5-112.5t-112.5-271.5v-320l-64-64 32-128h480l32-128h960l32 192-64 32v800z"></path></svg>
+							</div>
+						</div>
+						<div wqdhovercolor="#333333" data-animation-iteration-count="1"
+							data-animation-delay="0" data-animation-duration="1"
+							data-animate="rotateIn" wqdpathfill="#949494" wqdhref="0"
+							data-zindex="17"
+							style="width: 40px; height: 40px; left: 47.8167px; top: 595px; z-index: 17;"
+							id="elementId1451463544822" elementid="elementId1451463544822"
+							class="wqdelementEdit aniTriOther" data-elementtype="icon"
+							data-elemandgroup="true">
+							<div style="" class="wqdelementEditBox">
+								<svg class="wqd-svgicon" viewBox="-250 -250 2392 2392"
+									xmlns="http://www.w3.org/2000/svg">
+									<path fill="#999"
+										d="M192 1664h288v-288h-288v288zm352 0h320v-288h-320v288zm-352-352h288v-320h-288v320zm352 0h320v-320h-320v320zm-352-384h288v-288h-288v288zm736 736h320v-288h-320v288zm-384-736h320v-288h-320v288zm768 736h288v-288h-288v288zm-384-352h320v-320h-320v320zm-352-864v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm736 864h288v-320h-288v320zm-384-384h320v-288h-320v288zm384 0h288v-288h-288v288zm32-480v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z"></path></svg>
+							</div>
+						</div>
+						<div wqdhovercolor="#333333" data-animation-iteration-count="1"
+							data-animation-delay="0" data-animation-duration="1"
+							data-animate="rotateIn" wqdpathfill="#949494" wqdhref="0"
+							data-zindex="18"
+							style="width: 40px; height: 40px; left: 48.8167px; top: 767.767px; z-index: 18;"
+							id="elementId1451463553010" elementid="elementId1451463553010"
+							class="wqdelementEdit aniTriOther" data-elementtype="icon"
+							data-elemandgroup="true">
+							<div style="" class="wqdelementEditBox">
+								<svg class="wqd-svgicon" viewBox="-250 -250 2392 2392"
+									xmlns="http://www.w3.org/2000/svg">
+									<path fill="#999"
+										d="M1472 930v318q0 119-84.5 203.5t-203.5 84.5h-832q-119 0-203.5-84.5t-84.5-203.5v-832q0-119 84.5-203.5t203.5-84.5h832q63 0 117 25 15 7 18 23 3 17-9 29l-49 49q-10 10-23 10-3 0-9-2-23-6-45-6h-832q-66 0-113 47t-47 113v832q0 66 47 113t113 47h832q66 0 113-47t47-113v-254q0-13 9-22l64-64q10-10 23-10 6 0 12 3 20 8 20 29zm231-489l-814 814q-24 24-57 24t-57-24l-430-430q-24-24-24-57t24-57l110-110q24-24 57-24t57 24l263 263 647-647q24-24 57-24t57 24l110 110q24 24 24 57t-24 57z"></path></svg>
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="fadeInDown"
+							data-zindex="19" id="elementId1451463688623"
+							elementid="elementId1451463688623"
+							class="wqdelementEdit aniTriOther" data-elementtype="img"
+							data-elemandgroup="true"
+							style="width: 397px; height: 423px; left: 718.083px; top: 397.267px; z-index: 19;">
+							<div style="" class="wqdelementEditBox">
+								<img class="wqd-img"
+									src="${ctxPath}/static/modular/system/home/yq0KXVaDkuOAaXW2AADucEF3G1E414.jpg"
+									ondragstart="return false;">
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="2" data-animate="fadeInDown"
+							data-zindex="20" id="elementid14514637293870"
+							elementid="elementid14514637293870"
+							class="wqdelementEdit aniTriOther" data-elementtype="img"
+							data-elemandgroup="true"
+							style="width: 424px; height: 450px; left: 707.083px; top: 407.767px; z-index: 20;">
+							<div style="" class="wqdelementEditBox">
+								<img class="wqd-img"
+									src="${ctxPath}/static/modular/system/home/yq0KXlaDkwGAGC5FAAEz2P80al0339.jpg"
+									ondragstart="return false;">
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="3" data-animate="fadeInDown"
+							data-zindex="21" id="elementid14514637436500"
+							elementid="elementid14514637436500"
+							class="wqdelementEdit aniTriOther" data-elementtype="img"
+							data-elemandgroup="true"
+							style="width: 448px; height: 477px; left: 697.083px; top: 422.267px; z-index: 21;">
+							<div style="" class="wqdelementEditBox">
+								<img class="wqd-img"
+									src="${ctxPath}/static/modular/system/home/yq0KXlaDkv-AV90zAADXFvdcCBw881.jpg"
+									ondragstart="return false;">
+							</div>
+						</div>
+					</section>
+				</div>
+			</div>
+			<div class="yzmoveContent">
+				<div wqdbgset="0" wqdback_position="1"
+					style="background-attachment: scroll; background-size: cover; background-position: center center; background-repeat: no-repeat;"
+					class="wqdSectiondiv" data-type="wqdSectiondiv" sortid="3"
+					partid="wqd1451458923524serial" commonpartid="10542"
+					id="wqd1451458923524serial" sectionname="空白栏目-PC/手机均可"
+					partcategoryid="2">
+					<style sectionwidth="1200" type="text/css"
+						class="elementId1451464877644">
+#elementId1451464877644 .wqd-line {
+	border-top-color: #909090 !important;
+}
+
+#elementId1451464877644 {
+	transform: rotateZ(90deg);
+	-webkit-transform: rotateZ(90deg);
+}
+</style>
+					<style sectionwidth="1200" type="text/css"
+						class="wqd1451458923524serial">
+#wqd1451458923524serial:before {
+	content: ' ';
+	position: absolute;
+	top: 0;
+	left: 0;
+	width: 100%;
+	height: 100%;
+	background-color: #ffffff;
+}
+</style>
+					<style sectionwidth="1200" type="text/css"
+						class="elementid14514638392020">
+#elementid14514638392020 .wqd-line {
+	border-top-color: #212121 !important;
+}
+</style>
+					<style sectionwidth="1200" type="text/css"
+						class="elementid14514648965910">
+#elementid14514648965910 .wqd-line {
+	border-top-color: #909090 !important;
+}
+
+#elementid14514648965910 {
+	transform: rotateZ(90deg);
+	-webkit-transform: rotateZ(90deg);
+}
+</style>
+					<style sectionwidth="1200" type="text/css"
+						class="elementid14514649012240">
+#elementid14514649012240 .wqd-line {
+	border-top-color: #909090 !important;
+}
+
+#elementid14514649012240 {
+	transform: rotateZ(90deg);
+	-webkit-transform: rotateZ(90deg);
+}
+</style>
+					<style sectionwidth="1200" type="text/css"
+						class="elementid14514649051830">
+#elementid14514649051830 .wqd-line {
+	border-top-color: #909090 !important;
+}
+
+#elementid14514649051830 {
+	transform: rotateZ(90deg);
+	-webkit-transform: rotateZ(90deg);
+}
+</style>
+					<style sectionwidth="1200" type="text/css"
+						class="elementid14514649110230">
+#elementid14514649110230 .wqd-line {
+	border-top-color: #909090 !important;
+}
+
+#elementid14514649110230 {
+	transform: rotateZ(90deg);
+	-webkit-transform: rotateZ(90deg);
+}
+</style>
+					<style sectionwidth="1200" type="text/css"
+						class="elementid14514649150940">
+#elementid14514649150940 .wqd-line {
+	border-top-color: #909090 !important;
+}
+
+#elementid14514649150940 {
+	transform: rotateZ(90deg);
+	-webkit-transform: rotateZ(90deg);
+}
+</style>
+					<style sectionwidth="1200" type="text/css"
+						class="elementid14514649201890">
+#elementid14514649201890 .wqd-line {
+	border-top-color: #909090 !important;
+}
+
+#elementid14514649201890 {
+	transform: rotateZ(90deg);
+	-webkit-transform: rotateZ(90deg);
+}
+</style>
+					<section wqdbgcolor="#ffffff" wqdwidthlimit="0" wqdbgattachment="0"
+						bac_position="5" wqdheight="1000" sectionwidth="1200"
+						class="wqd1445504393013css wqdBkEditos sectionV2 moveMainArea elementsContainer"
+						style="height: 1000px; margin: 0px auto; position: relative; z-index: 5;"
+						wqdimgurlos="http://img.wqdian.com/group3/M00/AF/93/yq0KZVaDf_2AONwOAAP8qlVRoQc636.jpg"
+						wqdbgcoloros="#eee" data-maxzindex="23">
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="fadeInUp"
+							data-zindex="1"
+							style="width: 796px; height: 56px; left: 199.117px; top: 181.5px; z-index: 1;"
+							id="elementid14514638575050" elementid="elementid14514638575050"
+							class="wqdelementEdit aniTriOther" data-elementtype="text"
+							data-elemandgroup="true">
+							<div style="visibility: visible;"
+								data-emptytexttemplate="
+								&lt;p class=&quot;wqd-text-article3 wqdCkEmptyTextos&quot;&gt;正文文本3&lt;/p&gt;
+							"
+								class="wqdelementEditBox">
+								<p class="wqd-text-article3" style="text-align: center;">
+									<span style="color: #808080;">本公司建站平台将突破人们对于传统建站的认知,不仅可以制作精美的企业官网,还可以个性化定制“推广落地页.游戏促销.邀请函.活动专题.节日贺卡.企业招聘”等炫酷页面,满足中小微企业和个人创业者官方展示和移动运营推广的多方面需求.</span>
+								</p>
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="rotateIn"
+							data-zindex="2"
+							style="width: 40px; height: 40px; left: 646px; top: 337px; z-index: 2;"
+							id="elementId1451464605611" elementid="elementId1451464605611"
+							class="wqdelementEdit aniTriOther" data-elementtype="icon"
+							data-elemandgroup="true">
+							<div style="" class="wqdelementEditBox">
+								<svg class="wqd-svgicon" viewBox="-250 -250 2392 2392"
+									xmlns="http://www.w3.org/2000/svg">
+									<path fill="#999"
+										d="M192 1664h288v-288h-288v288zm352 0h320v-288h-320v288zm-352-352h288v-320h-288v320zm352 0h320v-320h-320v320zm-352-384h288v-288h-288v288zm736 736h320v-288h-320v288zm-384-736h320v-288h-320v288zm768 736h288v-288h-288v288zm-384-352h320v-320h-320v320zm-352-864v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm736 864h288v-320h-288v320zm-384-384h320v-288h-320v288zm384 0h288v-288h-288v288zm32-480v-288q0-13-9.5-22.5t-22.5-9.5h-64q-13 0-22.5 9.5t-9.5 22.5v288q0 13 9.5 22.5t22.5 9.5h64q13 0 22.5-9.5t9.5-22.5zm384-64v1280q0 52-38 90t-90 38h-1408q-52 0-90-38t-38-90v-1280q0-52 38-90t90-38h128v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h384v-96q0-66 47-113t113-47h64q66 0 113 47t47 113v96h128q52 0 90 38t38 90z"></path></svg>
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="rotateIn"
+							data-zindex="3"
+							style="width: 40px; height: 40px; left: 810.817px; top: 337px; z-index: 3;"
+							id="elementId1451464629138" elementid="elementId1451464629138"
+							class="wqdelementEdit aniTriOther" data-elementtype="icon"
+							data-elemandgroup="true">
+							<div style="" class="wqdelementEditBox">
+								<svg class="wqd-svgicon" viewBox="-250 -250 2392 2392"
+									xmlns="http://www.w3.org/2000/svg">
+									<path fill="#999"
+										d="M480 1408v128h-352v-128h352zm352-128q26 0 45 19t19 45v256q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h256zm160-384v128h-864v-128h864zm-640-512v128h-224v-128h224zm1312 1024v128h-736v-128h736zm-960-1152q26 0 45 19t19 45v256q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h256zm640 512q26 0 45 19t19 45v256q0 26-19 45t-45 19h-256q-26 0-45-19t-19-45v-256q0-26 19-45t45-19h256zm320 128v128h-224v-128h224zm0-512v128h-864v-128h864z"></path></svg>
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="rotateIn"
+							data-zindex="4"
+							style="width: 40px; height: 40px; left: 980.817px; top: 337px; z-index: 4;"
+							id="elementId1451464643431" elementid="elementId1451464643431"
+							class="wqdelementEdit aniTriOther" data-elementtype="icon"
+							data-elemandgroup="true">
+							<div style="" class="wqdelementEditBox">
+								<svg class="wqd-svgicon" viewBox="-250 -250 2392 2392"
+									xmlns="http://www.w3.org/2000/svg">
+									<path fill="#999"
+										d="M896 434v434h-145v-434h145zm398 0v434h-145v-434h145zm0 760l253-254v-795h-1194v1049h326v217l217-217h398zm398-1194v1013l-434 434h-326l-217 217h-217v-217h-398v-1158l109-289h1483z"></path></svg>
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="rotateIn"
+							data-zindex="5"
+							style="width: 40px; height: 40px; left: 487px; top: 337px; z-index: 5;"
+							id="elementId1451464663116" elementid="elementId1451464663116"
+							class="wqdelementEdit aniTriOther" data-elementtype="icon"
+							data-elemandgroup="true">
+							<div style="" class="wqdelementEditBox">
+								<svg class="wqd-svgicon" viewBox="-250 -250 2392 2392"
+									xmlns="http://www.w3.org/2000/svg">
+									<path fill="#999"
+										d="M384 448q0-53-37.5-90.5t-90.5-37.5-90.5 37.5-37.5 90.5 37.5 90.5 90.5 37.5 90.5-37.5 37.5-90.5zm1067 576q0 53-37 90l-491 492q-39 37-91 37-53 0-90-37l-715-716q-38-37-64.5-101t-26.5-117v-416q0-52 38-90t90-38h416q53 0 117 26.5t102 64.5l715 714q37 39 37 91zm384 0q0 53-37 90l-491 492q-39 37-91 37-36 0-59-14t-53-45l470-470q37-37 37-90 0-52-37-91l-715-714q-38-38-102-64.5t-117-26.5h224q53 0 117 26.5t102 64.5l715 714q37 39 37 91z"></path></svg>
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="rotateIn"
+							data-zindex="6"
+							style="width: 40px; height: 40px; left: 333.817px; top: 337px; z-index: 6;"
+							id="elementId1451464676899" elementid="elementId1451464676899"
+							class="wqdelementEdit aniTriOther" data-elementtype="icon"
+							data-elemandgroup="true">
+							<div style="" class="wqdelementEditBox">
+								<svg class="wqd-svgicon" viewBox="-250 -250 2392 2392"
+									xmlns="http://www.w3.org/2000/svg">
+									<path fill="#999"
+										d="M128 1408h1024v-128h-1024v128zm0-512h1024v-128h-1024v128zm1568 448q0-40-28-68t-68-28-68 28-28 68 28 68 68 28 68-28 28-68zm-1568-960h1024v-128h-1024v128zm1568 448q0-40-28-68t-68-28-68 28-28 68 28 68 68 28 68-28 28-68zm0-512q0-40-28-68t-68-28-68 28-28 68 28 68 68 28 68-28 28-68zm96 832v384h-1792v-384h1792zm0-512v384h-1792v-384h1792zm0-512v384h-1792v-384h1792z"></path></svg>
+							</div>
+						</div>
+						<div triggertype="unveil.wqdAnimate"
+							data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="rotateIn"
+							data-zindex="7"
+							style="width: 72px; height: 59px; left: 158.817px; top: 327.5px; z-index: 7;"
+							id="elementId1451464685356" elementid="elementId1451464685356"
+							class="wqdelementEdit aniTriOther" data-elementtype="icon"
+							data-elemandgroup="true">
+							<div style="" class="wqdelementEditBox">
+								<svg class="wqd-svgicon" viewBox="-250 -250 2392 2392"
+									xmlns="http://www.w3.org/2000/svg">
+									<path fill="#999"
+										d="M976 1408q0-33-23.5-56.5t-56.5-23.5-56.5 23.5-23.5 56.5 23.5 56.5 56.5 23.5 56.5-23.5 23.5-56.5zm208-160v-704q0-13-9.5-22.5t-22.5-9.5h-512q-13 0-22.5 9.5t-9.5 22.5v704q0 13 9.5 22.5t22.5 9.5h512q13 0 22.5-9.5t9.5-22.5zm-192-848q0-16-16-16h-160q-16 0-16 16t16 16h160q16 0 16-16zm288-16v1024q0 52-38 90t-90 38h-512q-52 0-90-38t-38-90v-1024q0-52 38-90t90-38h512q52 0 90 38t38 90z"></path></svg>
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="fadeInUp"
+							data-zindex="8"
+							style="width: 81px; height: 28px; left: 154.05px; top: 392.5px; z-index: 8;"
+							id="elementid14514647277830" elementid="elementid14514647277830"
+							class="wqdelementEdit aniTriOther" data-elementtype="text"
+							data-elemandgroup="true">
+							<div style="visibility: visible;"
+								data-emptytexttemplate="
+								&lt;p class=&quot;wqd-text-article3 wqdCkEmptyTextos&quot;&gt;正文文本3&lt;/p&gt;
+							"
+								class="wqdelementEditBox">
+								<p class="wqd-text-article3" style="text-align: center;">页面炫酷</p>
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="fadeInUp"
+							data-zindex="9"
+							style="width: 81px; height: 28px; left: 312.433px; top: 392.5px; z-index: 9;"
+							id="elementid14514647524240" elementid="elementid14514647524240"
+							class="wqdelementEdit aniTriOther" data-elementtype="text"
+							data-elemandgroup="true">
+							<div style="visibility: visible;"
+								data-emptytexttemplate="
+								&lt;p class=&quot;wqd-text-article3 wqdCkEmptyTextos&quot;&gt;正文文本3&lt;/p&gt;
+							"
+								class="wqdelementEditBox">
+								<p class="wqd-text-article3" style="text-align: center;">简单易用</p>
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="fadeInUp"
+							data-zindex="10"
+							style="width: 81px; height: 28px; left: 467.617px; top: 392.5px; z-index: 10;"
+							id="elementid14514647557880" elementid="elementid14514647557880"
+							class="wqdelementEdit aniTriOther" data-elementtype="text"
+							data-elemandgroup="true">
+							<div style="visibility: visible;"
+								data-emptytexttemplate="
+								&lt;p class=&quot;wqd-text-article3 wqdCkEmptyTextos&quot;&gt;正文文本3&lt;/p&gt;
+							"
+								class="wqdelementEditBox">
+								<p class="wqd-text-article3" style="text-align: center;">自由创意</p>
+							</div>
+						</div>
+						<div data-animation-iteration-count="1" data-animation-delay="0"
+							data-animation-duration="1" data-animate="fadeInUp"
+							data-zindex="11"
+							style="width: 81px; height: 28px; left: 626.617px; top: 392.5px; z-index: 11;"
+							id="elementid14514647611430" elementid="elementid14514647611430"
+							class="wqdelementEdit aniTriOther" data-elementtype="text"
+							data-elemandgroup="true">
+							<div style="visibility: visible;"
+								data-emptytexttemplate="
+								&lt;p cl"gss0.bdstatic.com/5bwHcj7lABFV8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFS8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFT8t_jkk_Z1zRvfdw6buu","gss0.bdstatic.com/5bwHcj7lABFY8t_jkk_Z1zRvfdw6buu"],TILE_ONLINE_URLS:["gss0.bdstatic.com/8bo_dTSlR1gBo1vgoIiO_jowehsv","gss0.bdstatic.com/8bo_dTSlRMgBo1vgoIiO_jowehsv","gss0.bdstatic.com/8bo_dTSlRcgBo1vgoIiO_jowehsv","gss0.bdstatic.com/8bo_dTSlRsgBo1vgoIiO_jowehsv","gss0.bdstatic.com/8bo_dTSlQ1gBo1vgoIiO_jowehsv"], TIlE_PERSPECT_URLS:["gss0.bdstatic.com/-OR1cTe9KgQFm2e88IuM_a","gss0.bdstatic.com/-ON1cTe9KgQFm2e88IuM_a","gss0.bdstatic.com/-OZ1cTe9KgQFm2e88IuM_a","gss0.bdstatic.com/-OV1cTe9KgQFm2e88IuM_a"],geolocControl:"gsp0.baidu.com/8LkJsjOpB1gCo2Kml5_Y_D3",TILES_YUN_HOST:["gsp0.baidu.com/-eR1bSahKgkFkRGko9WTAnF6hhy","gsp0.baidu.com/-eN1bSahKgkFkRGko9WTAnF6hhy","gsp0.baidu.com/-eZ1bSahKgkFkRGko9WTAnF6hhy","gsp0.baidu.com/-eV1bSahKgkFkRGko9WTAnF6hhy"],traffic:"gsp0.baidu.com/7_AZsjOpB1gCo2Kml5_Y_DAcsMJiwa", iw_pano:"gss0.bdstatic.com/5LUZemba_QUU8t7mm9GUKT-xh_",message:"gsp0.baidu.com/7vo0bSba2gU2pMbgoY3K",baidumap:"gsp0.baidu.com/80MWsjip0QIZ8tyhnq",wuxian:"gsp0.baidu.com/6a1OdTeaKgQFm2e88IuM_a",pano:["gss0.bdstatic.com/5LUZemba_QUU8t7mm9GUKT-xh_","gss0.bdstatic.com/5LUZemfa_QUU8t7mm9GUKT-xh_","gss0.bdstatic.com/5LUZemja_QUU8t7mm9GUKT-xh_"],main_domain_nocdn:{baidu:"gsp0.baidu.com/9_Q4sjOpB1gCo2Kml5_Y_D3",other:"api.map.baidu.com"},main_domain_cdn:{baidu:["gss0.bdstatic.com/9_Q4vHSd2RZ3otebn9fN2DJv", "gss0.baidu.com/9_Q4vXSd2RZ3otebn9fN2DJv","gss0.bdstatic.com/9_Q4vnSd2RZ3otebn9fN2DJv"],other:["api.map.baidu.com"],webmap:["gss0.baidu.com/6b1IcTe9R1gBo1vgoIiO_jowehsv"]},map_click:"gsp0.baidu.com/80MWbzKh2wt3n2qy8IqW0jdnxx1xbK",vector_traffic:"gss0.bdstatic.com/8aZ1cTe9KgQIm2_p8IuM_a"}; z.XX={TILE_BASE_URLS:["shangetu0.map.bdimg.com","shangetu1.map.bdimg.com","shangetu2.map.bdimg.com","shangetu3.map.bdimg.com","shangetu4.map.bdimg.com"],TILE_ONLINE_URLS:["online0.map.bdimg.com","online1.map.bdimg.com","online2.map.bdimg.com","online3.map.bdimg.com","online4.map.bdimg.com"],TIlE_PERSPECT_URLS:["d0.map.baidu.com","d1.map.baidu.com","d2.map.baidu.com","d3.map.baidu.com"],geolocControl:"loc.map.baidu.com",TILES_YUN_HOST:["g0.api.map.baidu.com","g1.api.map.baidu.com","g2.api.map.baidu.com", "g3.api.map.baidu.com"],traffic:"its.map.baidu.com:8002",iw_pano:"pcsv0.map.bdimg.com",message:"j.map.baidu.com",baidumap:"map.baidu.com",wuxian:"wuxian.baidu.com",pano:["pcsv0.map.bdimg.com","pcsv1.map.bdimg.com","pcsv2.map.bdimg.com"],main_domain_nocdn:{baidu:"api.map.baidu.com"},main_domain_cdn:{baidu:["api0.map.bdimg.com","api1.map.bdimg.com","api2.map.bdimg.com"],webmap:["webmap0.map.bdimg.com"]},map_click:"mapclick.map.baidu.com",vector_traffic:"or.map.bdimg.com"}; z.U_={"0":{proto:"http://",domain:z.XX},1:{proto:"https://",domain:z.SL},2:{proto:"https://",domain:z.SL}};z.Ny=window.HOST_TYPE||"0";z.url=z.U_[z.Ny];z.qp=z.url.proto+z.url.domain.baidumap+"/";z.Ac=z.url.proto+("2"==z.Ny?z.url.domain.main_domain_nocdn.other:z.url.domain.main_domain_nocdn.baidu)+"/";z.ma=z.url.proto+("2"==z.Ny?z.url.domain.main_domain_cdn.other[0]:z.url.domain.main_domain_cdn.baidu[0])+"/";z.cj=z.url.proto+z.url.domain.main_domain_cdn.webmap[0]+"/"; z.sg=function(a,b){var c,d,b=b||"";switch(a){case "main_domain_nocdn":c=z.Ac+b;break;case "main_domain_cdn":c=z.ma+b;break;default:d=z.url.domain[a],"[object Array]"==Object.prototype.toString.call(d)?(c=[],x.kc.Gb(d,function(a,d){c[d]=z.url.proto+a+"/"+b})):c=z.url.proto+z.url.domain[a]+"/"+b}return c};function rb(a){var b={duration:1E3,Gc:30,Go:0,jc:sb.xM,Bt:s()};this.Zf=[];if(a)for(var c in a)b[c]=a[c];this.k=b;if(Xa(b.Go)){var d=this;setTimeout(function(){d.start()},b.Go)}else b.Go!=tb&&this.start()}var tb="INFINITE";rb.prototype.start=function(){this.Ku=ab();this.Vz=this.Ku+this.k.duration;ub(this)};rb.prototype.add=function(a){this.Zf.push(a)}; function ub(a){var b=ab();b>=a.Vz?(Ya(a.k.va)&&a.k.va(a.k.jc(1)),Ya(a.k.finish)&&a.k.finish(),0<a.Zf.length&&(b=a.Zf[0],b.Zf=[].concat(a.Zf.slice(1)),b.start())):(a.uy=a.k.jc((b-a.Ku)/a.k.duration),Ya(a.k.va)&&a.k.va(a.uy),a.DF||(a.Rr=setTimeout(function(){ub(a)},1E3/a.k.Gc)))}rb.prototype.stop=function(a){this.DF=o;for(var b=0;b<this.Zf.length;b++)this.Zf[b].stop(),this.Zf[b]=p;this.Zf.length=0;this.Rr&&(clearTimeout(this.Rr),this.Rr=p);this.k.Bt(this.uy);a&&(this.Vz=this.Ku,ub(this))}; rb.prototype.cancel=ha(1);var sb={xM:function(a){return a},reverse:function(a){return 1-a},$C:function(a){return a*a},ZC:function(a){return Math.pow(a,3)},Ds:function(a){return-(a*(a-2))},OK:function(a){return Math.pow(a-1,3)+1},NK:function(a){return 0.5>a?2*a*a:-2*(a-2)*a-1},V1:function(a){return 0.5>a?4*Math.pow(a,3):4*Math.pow(a-1,3)+1},W1:function(a){return(1-Math.cos(Math.PI*a))/2}};sb["ease-in"]=sb.$C;sb["ease-out"]=sb.Ds;var E={ZF:34,$F:21,aG:new N(21,32),$O:new N(10,32),ZO:new N(24,36),YO:new N(12,36),XF:new N(13,1),qa:z.ma+"images/",c3:"http://api0.map.bdimg.com/images/",YF:z.ma+"images/markers_new.png",WO:24,XO:73,eC:{"\u5317\u4eac":{jy:"bj",m:new H(116.403874,39.914889)},"\u4e0a\u6d77":{jy:"sh",m:new H(121.487899,31.249162)},"\u6df1\u5733":{jy:"sz",m:new H(114.025974,22.546054)},"\u5e7f\u5dde":{jy:"gz",m:new H(113.30765,23.120049)}},fontFamily:"arial,sans-serif"}; x.da.nf?(x.extend(E,{CK:"url("+E.qa+"ruler.cur),crosshair",Xb:"-moz-grab",Fd:"-moz-grabbing"}),x.platform.lM&&(E.fontFamily="arial,simsun,sans-serif")):x.da.cC||x.da.gF?x.extend(E,{CK:"url("+E.qa+"ruler.cur) 2 6,crosshair",Xb:"url("+E.qa+"openhand.cur) 8 8,default",Fd:"url("+E.qa+"closedhand.cur) 8 8,move"}):x.extend(E,{CK:"url("+E.qa+"ruler.cur),crosshair",Xb:"url("+E.qa+"openhand.cur),default",Fd:"url("+E.qa+"closedhand.cur),move"});function vb(a,b){var c=a.style;c.left=b[0]+"px";c.top=b[1]+"px"}function wb(a){0<x.da.la?a.unselectable="on":a.style.MozUserSelect="none"}function xb(a){return a&&a.parentNode&&11!==a.parentNode.nodeType}function yb(a,b){x.D.Ix(a,"beforeEnd",b);return a.lastChild}function zb(a){for(var b={left:0,top:0};a&&a.offsetParent;)b.left+=a.offsetLeft,b.top+=a.offsetTop,a=a.offsetParent;return b}function na(a){a=window.event||a;a.stopPropagation?a.stopPropagation():a.cancelBubble=o} function Ab(a){a=window.event||a;a.preventDefault?a.preventDefault():a.returnValue=q;return q}function oa(a){na(a);return Ab(a)}function Bb(){var a=document.documentElement,b=document.body;return a&&(a.scrollTop||a.scrollLeft)?[a.scrollTop,a.scrollLeft]:b?[b.scrollTop,b.scrollLeft]:[0,0]}function Cb(a,b){if(a&&b)return Math.round(Math.sqrt(Math.pow(a.x-b.x,2)+Math.pow(a.y-b.y,2)))}function Db(a,b){var c=[],b=b||function(a){return a},d;for(d in a)c.push(d+"="+b(a[d]));return c.join("&")} function M(a,b,c){var d=document.createElement(a);c&&(d=document.createElementNS(c,a));return x.D.nF(d,b||{})}function Wa(a){if(a.currentStyle)return a.currentStyle;if(a.ownerDocument&&a.ownerDocument.defaultView)return a.ownerDocument.defaultView.getComputedStyle(a,p)}function Ya(a){return"function"===typeof a}function Xa(a){return"number"===typeof a}function $a(a){return"string"==typeof a}function Eb(a){return"undefined"!=typeof a}function Gb(a){return"object"==typeof a}var Hb="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="; function Ib(a){var b="",c,d,e="",f,g="",i=0;f=/[^A-Za-z0-9\+\/\=]/g;if(!a||f.exec(a))return a;a=a.replace(/[^A-Za-z0-9\+\/\=]/g,"");do c=Hb.indexOf(a.charAt(i++)),d=Hb.indexOf(a.charAt(i++)),f=Hb.indexOf(a.charAt(i++)),g=Hb.indexOf(a.charAt(i++)),c=c<<2|d>>4,d=(d&15)<<4|f>>2,e=(f&3)<<6|g,b+=String.fromCharCode(c),64!=f&&(b+=String.fromCharCode(d)),64!=g&&(b+=String.fromCharCode(e));while(i<a.length);return b}var O=x.lang.Xy;function G(){return!(!x.platform.mE&&!x.platform.nY&&!x.platform.Fm)} function Va(){return!(!x.platform.lM&&!x.platform.dM&&!x.platform.tY)}function ab(){return(new Date).getTime()}function Jb(){var a=document.body.appendChild(M("div"));a.innerHTML='<v:shape id="vml_tester1" adj="1" />';var b=a.firstChild;if(!b.style)return q;b.style.behavior="url(#default#VML)";b=b?"object"===typeof b.adj:o;a.parentNode.removeChild(a);return b}function Kb(){return!!document.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Shape","1.1")} function Nb(){return!!M("canvas").getContext}function Ob(a){return a*Math.PI/180}z.AY=function(){var a=o,b=o,c=o,d=o,e=0,f=0,g=0,i=0;return{HQ:function(){e+=1;a&&(a=q,setTimeout(function(){Ra(5054,{pic:e});a=o;e=0},1E4))},G0:function(){f+=1;b&&(b=q,setTimeout(function(){Ra(5055,{move:f});b=o;f=0},1E4))},I0:function(){g+=1;c&&(c=q,setTimeout(function(){Ra(5056,{zoom:g});c=o;g=0},1E4))},H0:function(a){i+=a;d&&(d=q,setTimeout(function(){Ra(5057,{tile:i});d=o;i=0},5E3))}}}();z.cq={mG:"#83a1ff",fq:"#808080"}; function Pb(a,b,c){b.Lm||(b.Lm=[],b.handle={});b.Lm.push({filter:c,lm:a});b.addEventListener||(b.addEventListener=function(a,c){b.attachEvent("on"+a,c)});b.handle.click||(b.addEventListener("click",function(a){for(var c=a.target||a.srcElement;c!=b;){Qb(b.Lm,function(b,g){RegExp(g.filter).test(c.getAttribute("filter"))&&g.lm.call(c,a,c.getAttribute("filter"))});c=c.parentNode}},q),b.handle.click=o)}function Qb(a,b){for(var c=0,d=a.length;c<d;c++)b(c,a[c])} void function(a,b,c){void function(a,b,c){function g(a){if(!a.Fo){for(var c=o,d=[],f=a.rZ,i=0;f&&i<f.length;i++){var k=f[i],l=ea[k]=ea[k]||{};if(l.Fo||l==a)d.push(l.Kc);else{c=q;if(!l.YV&&(k=(Ea.get("alias")||{})[k]||k+".js",!J[k])){J[k]=o;var m=b.createElement("script"),n=b.getElementsByTagName("script")[0];m.async=o;m.src=k;n.parentNode.insertBefore(m,n)}l.Oy=l.Oy||{};l.Oy[a.name]=a}}if(c){a.Fo=o;a.uK&&(a.Kc=a.uK.apply(a,d));for(var t in a.Oy)g(a.Oy[t])}}}function i(a){return(a||new Date)-D}function k(a, b,c){if(a){"string"==typeof a&&(c=b,b=a,a=L);try{a==L?(K[b]=K[b]||[],K[b].unshift(c)):a.addEventListener?a.addEventListener(b,c,q):a.attachEvent&&a.attachEvent("on"+b,c)}catch(d){}}}function l(a,b,c){if(a){"string"==typeof a&&(c=b,b=a,a=L);try{if(a==L){var d=K[b];if(d)for(var e=d.length;e--;)d[e]===c&&d.splice(e,1)}else a.removeEventListener?a.removeEventListener(b,c,q):a.detachEvent&&a.detachEvent("on"+b,c)}catch(f){}}}function m(a){var b=K[a],c=0;if(b){for(var d=[],e=arguments,f=1;f<e.length;f++)d.push(e[f]); for(f=b.length;f--;)b[f].apply(this,d)&&c++;return c}}function n(a,b){if(a&&b){var c=new Image(1,1),d=[],e="img_"+ +new Date,f;for(f in b)b[f]&&d.push(f+"="+encodeURIComponent(b[f]));L[e]=c;c.onload=c.onerror=function(){L[e]=c=c.onload=c.onerror=p;delete L[e]};c.src=a+"?"+d.join("&")}}function t(){var a=arguments,b=a[0];if(this.tK||/^(on|un|set|get|create)$/.test(b)){for(var b=w.prototype[b],c=[],d=1,e=a.length;d<e;d++)c.push(a[d]);"function"==typeof b&&b.apply(this,c)}else this.TJ.push(a)}function v(a, b){var c={},d;for(d in a)a.hasOwnProperty(d)&&(c[d]=a[d]);for(d in b)b.hasOwnProperty(d)&&(c[d]=b[d]);return c}function w(a){this.name=a;this.Is={protocolParameter:{postUrl:p,protocolParameter:p}};this.TJ=[];this.alog=L}function y(a){a=a||"default";if("*"==a){var a=[],b;for(b in W)a.push(W[b]);return a}(b=W[a])||(b=W[a]=new w(a));return b}var C=c.alog;if(!C||!C.Fo){var A=b.all&&a.attachEvent,D=C&&C.vE||+new Date,B=a.o3||(+new Date).toString(36)+Math.random().toString(36).substr(2,3),F=0,J={},L=function(a){var b= arguments,c,d,e,f;if("define"==a||"require"==a){for(d=1;d<b.length;d++)switch(typeof b[d]){case "string":c=b[d];break;case "object":e=b[d];break;case "function":f=b[d]}"require"==a&&(c&&!e&&(e=[c]),c=p);c=!c?"#"+F++:c;d=ea[c]=ea[c]||{};d.Fo||(d.name=c,d.rZ=e,d.uK=f,"define"==a&&(d.YV=o),g(d))}else"function"==typeof a?a(L):(""+a).replace(/^(?:([\w$_]+)\.)?(\w+)$/,function(a,c,d){b[0]=d;t.apply(L.MF(c),b)})},K={},W={},ea={p1:{name:"alog",Fo:o,Kc:L}};w.prototype.start=w.prototype.create=function(a){if(!this.tK){"object"== typeof a&&this.set(a);this.tK=new Date;for(this.Js("create",this);a=this.TJ.shift();)t.apply(this,a)}};w.prototype.send=function(a,b){var c=v({ts:i().toString(36),t:a,sid:B},this.Is);if("object"==typeof b)c=v(c,b);else{var d=arguments;switch(a){case "pageview":d[1]&&(c.page=d[1]);d[2]&&(c.title=d[2]);break;case "event":d[1]&&(c.eventCategory=d[1]);d[2]&&(c.eventAction=d[2]);d[3]&&(c.eventLabel=d[3]);d[4]&&(c.eventValue=d[4]);break;case "timing":d[1]&&(c.timingCategory=d[1]);d[2]&&(c.timingVar=d[2]); d[3]&&(c.timingValue=d[3]);d[4]&&(c.timingLabel=d[4]);break;case "exception":d[1]&&(c.exDescription=d[1]);d[2]&&(c.exFatal=d[2]);break;default:return}}this.Js("send",c);var e;if(d=this.Is.protocolParameter){var f={};for(e in c)d[e]!==p&&(f[d[e]||e]=c[e]);e=f}else e=c;n(this.Is.postUrl,e)};w.prototype.set=function(a,b){if("string"==typeof a)"protocolParameter"==a&&(b=v({postUrl:p,protocolParameter:p},b)),this.Is[a]=b;else if("object"==typeof a)for(var c in a)this.set(c,a[c])};w.prototype.get=function(a, b){var c=this.Is[a];"function"==typeof b&&b(c);return c};w.prototype.Js=function(a,b){return L.Js(this.name+"."+a,b)};w.prototype.M=function(a,b){L.M(this.name+"."+a,b)};w.prototype.bd=function(a,b){L.bd(this.name+"."+a,b)};L.name="alog";L.bO=B;L.Fo=o;L.timestamp=i;L.bd=l;L.M=k;L.Js=m;L.MF=y;L("init");var fa=w.prototype;S(fa,{start:fa.start,create:fa.create,send:fa.send,set:fa.set,get:fa.get,on:fa.M,un:fa.bd,fire:fa.Js});var Ea=y();Ea.set("protocolParameter",{o1:p});if(C){fa=[].concat(C.ub||[],C.Vm|| []);C.ub=C.Vm=p;for(var Ua in L)L.hasOwnProperty(Ua)&&(C[Ua]=L[Ua]);L.ub=L.Vm={push:function(a){L.apply(L,a)}};for(C=0;C<fa.length;C++)L.apply(L,fa[C])}c.alog=L;A&&k(b,"mouseup",function(a){a=a.target||a.srcElement;1==a.nodeType&&/^ajavascript:/i.test(a.tagName+a.href)});var Qa=q;a.onerror=function(a,b,d,e){var g=o;!b&&/^script error/i.test(a)&&(Qa?g=q:Qa=o);g&&c.alog("exception.send","exception",{yt:a,uE:b,ut:d,as:e});return q};c.alog("exception.on","catch",function(a){c.alog("exception.send","exception", {yt:a.yt,uE:a.path,ut:a.ut,method:a.method,aL:"catch"})})}}(a,b,c);void function(a,b,c){var g="18_1";G()&&(g="18_2");var i="http://static.tieba.baidu.com";"https:"===a.location.protocol&&(i="https://gsp0.baidu.com/5aAHeD3nKhI2p27j8IqW0jdnxx1xbK");var k=Math.random,i=i+"/tb/pms/img/st.gif",l={yh:"0.1"},m={yh:"0.1"},n={yh:"0.1"},t={yh:"0"};if(l&&l.yh&&k()<l.yh){var v=c.alog.MF("monkey"),w,l=a.screen,y=b.referrer;v.set("ver",5);v.set("pid",241);l&&v.set("px",l.width+"*"+l.height);v.set("ref",y);c.alog("monkey.on", "create",function(){w=c.alog.timestamp;v.set("protocolParameter",{reports:p})});c.alog("monkey.on","send",function(a){"pageview"==a.t&&(a.cmd="open");a.now&&(a.ts=w(a.now).toString(36),a.now="")});c.alog("monkey.create",{page:g,pid:"241",p:"18",dv:6,postUrl:i,reports:{refer:1}});c.alog("monkey.send","pageview",{now:+new Date})}if(m&&m.yh&&k()<m.yh){var C=q;a.onerror=function(a,b,d,e){var g=o;!b&&/^script error/i.test(a)&&(C?g=q:C=o);g&&c.alog("exception.send","exception",{yt:a,uE:b,ut:d,as:e});return q}; c.alog("exception.on","catch",function(a){c.alog("exception.send","exception",{yt:a.yt,uE:a.path,ut:a.ut,method:a.method,aL:"catch"})});c.alog("exception.create",{postUrl:i,dv:7,page:g,pid:"170",p:"18"})}n&&(n.yh&&k()<n.yh)&&(c.alog("cus.on","time",function(a){var b={},d=q,e;if("[object Object]"===a.toString()){for(var g in a)"page"==g?b.page=a[g]:(e=parseInt(a[g]),0<e&&/^z_/.test(g)&&(d=o,b[g]=e));d&&c.alog("cus.send","time",b)}}),c.alog("cus.on","count",function(a){var b={},d=q;"string"===typeof a&& (a=[a]);if(a instanceof Array)for(var e=0;e<a.length;e++)/^z_/.test(a[e])?(d=o,b[a[e]]=1):/^page:/.test(a[e])&&(b.page=a[e].substring(5));d&&c.alog("cus.send","count",b)}),c.alog("cus.create",{dv:3,postUrl:i,page:g,p:"18"}));if(t&&t.yh&&k()<t.yh){var A=["Moz","O","ms","Webkit"],D=["-webkit-","-moz-","-o-","-ms-"],B=function(){return typeof b.createElement!=="function"?b.createElement(arguments[0]):b.createElement.apply(b,arguments)},F=B("dpFeatureTest").style,J=function(a){return L(a,j,j)},L=function(a, b,c){var d=a.charAt(0).toUpperCase()+a.slice(1),e=(a+" "+A.join(d+" ")+d).split(" ");if(typeof b==="string"||typeof b==="undefined")return K(e,b);e=(a+" "+A.join(d+" ")+d).split(" ");a:{var a=e,f;for(f in a)if(a[f]in b){if(c===q){b=a[f];break a}f=b[a[f]];b=typeof f==="function"?fnBind(f,c||b):f;break a}b=q}return b},K=function(a,b){var c,d,e;d=a.length;for(c=0;c<d;c++){e=a[c];~(""+e).indexOf("-")&&(e=W(e));if(F[e]!==j)return b=="pfx"?e:o}return q},W=function(a){return a.replace(/([a-z])-([a-z])/g, function(a,b,c){return b+c.toUpperCase()}).replace(/^-/,"")},ea=function(a,b,c){if(a.indexOf("@")===0)return atRule(a);a.indexOf("-")!=-1&&(a=W(a));return!b?L(a,"pfx"):L(a,b,c)},fa=function(){var a=B("canvas");return!(!a.getContext||!a.getContext("2d"))},Ea=function(){var a=B("div");return"draggable"in a||"ondragstart"in a&&"ondrop"in a},Ua=function(){try{localStorage.setItem("localStorage","localStorage");localStorage.removeItem("localStorage");return o}catch(a){return q}},Qa=function(){return"content"in b.createElement("template")},Aa=function(){return"createShadowRoot"in b.createElement("a")},lc=function(){return"registerElement"in b},pe=function(){return"import"in b.createElement("link")},nf=function(){return"getItems"in b},fd=function(){return"EventSource"in window},Lb=function(a,b){var c=new Image;c.onload=function(){b(a,c.width>0&&c.height>0)};c.onerror=function(){b(a,q)};c.src="data:image/webp;base64,"+{r3:"UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",q3:"UklGRhoAAABXRUJQVlA4TA0AAAAvAAAAEAcQERGIiP4HAA==", alpha:"UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAARBxAR/Q9ERP8DAABWUDggGAAAABQBAJ0BKgEAAQAAAP4AAA3AAP7mtQAAAA==",jk:"UklGRlIAAABXRUJQVlA4WAoAAAASAAAAAAAAAAAAQU5JTQYAAAD/////AABBTk1GJgAAAAAAAAAAAAAAAAAAAGQAAABWUDhMDQAAAC8AAAAQBxAREYiI/gcA"}[a]},mc=function(a,b){return Mb.ii["WebP-"+a]=b},qe=function(){return"openDatabase"in a},re=function(){return"performance"in a&&"timing"in a.performance},Mc=function(){return"performance"in a&&"mark"in a.performance},gd=function(){return!(!Array.prototype|| !Array.prototype.every||!Array.prototype.filter||!Array.prototype.forEach||!Array.prototype.indexOf||!Array.prototype.lastIndexOf||!Array.prototype.map||!Array.prototype.some||!Array.prototype.reduce||!Array.prototype.reduceRight||!Array.isArray)},se=function(){return"Promise"in a&&"cast"in a.gq&&"resolve"in a.gq&&"reject"in a.gq&&"all"in a.gq&&"race"in a.gq&&function(){var b;new a.gq(function(a){b=a});return typeof b==="function"}()},hd=function(){var b=!!a.t0,c=a.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest;return!!a.w0&&b&&c},of=function(){return"geolocation"in navigator},te=function(){var b=B("canvas"),c="probablySupportsContext"in b?"probablySupportsContext":"supportsContext";return c in b?b[c]("webgl")||b[c]("experimental-webgl"):"WebGLRenderingContext"in a},fi=function(){return!!b.createElementNS&&!!b.createElementNS("http://www.w3.org/2000/svg","svg").H1},gi=function(){return!!a.D0},hi=function(){return"WebSocket"in a&&a.A0.q0===2},ii=function(){return!!b.createElement("video").canPlayType}, ji=function(){return!!b.createElement("audio").canPlayType},ki=function(){return!!(a.history&&"pushState"in a.history)},li=function(){return!(!a.r0||!a.s0)},mi=function(){return"postMessage"in window},ni=function(){return!!a.webkitNotifications||"Notification"in a&&"permission"in a.sP&&"requestPermission"in a.sP},oi=function(){for(var b=["webkit","moz","o","ms"],c=a.requestAnimationFrame,e=0;e<b.length&&!c;++e)c=a[b[e]+"RequestAnimationFrame"];return!!c},pi=function(){return"JSON"in a&&"parse"in JSON&& "stringify"in JSON},qi=function(){return!(!ea("exitFullscreen",b,q)&&!ea("cancelFullScreen",b,q))},ri=function(){return!!ea("Intl",a)},si=function(){return J("flexBasis")},ti=function(){return!!J("perspective")},ui=function(){return J("shapeOutside")},vi=function(){var a=B("div");a.style.cssText=D.join("filter:blur(2px); ");return!!a.style.length&&(b.documentMode===j||b.documentMode>9)},wi=function(){return"XMLHttpRequest"in a&&"withCredentials"in new XMLHttpRequest},xi=function(){return B("progress").max!== j},yi=function(){return B("meter").max!==j},zi=function(){return"sendBeacon"in navigator},Ai=function(){return J("borderRadius")},Bi=function(){return J("boxShadow")},Ci=function(){var a=B("div").style;a.cssText=D.join("opacity:.55;");return/^0.55$/.test(a.opacity)},Di=function(){return K(["textShadow"],j)},Ei=function(){return J("animationName")},Fi=function(){return J("transition")},Gi=function(){return navigator.userAgent.indexOf("Android 2.")===-1&&J("transform")},Mb={ii:{},oa:function(a,b,c){this.ii[a]= b.apply(this,[].slice.call(arguments,2))},Cd:function(a,b){a.apply(this,[].slice.call(arguments,1))},yZ:function(){this.oa("bdrs",Ai);this.oa("bxsd",Bi);this.oa("opat",Ci);this.oa("txsd",Di);this.oa("anim",Ei);this.oa("trsi",Fi);this.oa("trfm",Gi);this.oa("flex",si);this.oa("3dtr",ti);this.oa("shpe",ui);this.oa("fltr",vi);this.oa("cavs",fa);this.oa("dgdp",Ea);this.oa("locs",Ua);this.oa("wctem",Qa);this.oa("wcsdd",Aa);this.oa("wccse",lc);this.oa("wchti",pe);this.Cd(Lb,"lossy",mc);this.Cd(Lb,"lossless", mc);this.Cd(Lb,"alpha",mc);this.Cd(Lb,"animation",mc);this.oa("wsql",qe);this.oa("natm",re);this.oa("ustm",Mc);this.oa("arra",gd);this.oa("prms",se);this.oa("xhr2",hd);this.oa("wbgl",te);this.oa("geol",of);this.oa("svg",fi);this.oa("work",gi);this.oa("wbsk",hi);this.oa("vido",ii);this.oa("audo",ji);this.oa("hsty",ki);this.oa("file",li);this.oa("psmg",mi);this.oa("wknf",ni);this.oa("rqaf",oi);this.oa("json",pi);this.oa("flsc",qi);this.oa("i18n",ri);this.oa("cors",wi);this.oa("prog",xi);this.oa("metr", yi);this.oa("becn",zi);this.oa("mcrd",nf);this.oa("esrc",fd)}},v=c.alog.MF("feature");v.M("commit",function(){Mb.yZ();var a=setInterval(function(){if("WebP-lossy"in Mb.ii&&"WebP-lossless"in Mb.ii&&"WebP-alpha"in Mb.ii&&"WebP-animation"in Mb.ii){for(var b in Mb.ii)Mb.ii[b]=Mb.ii[b]?"y":"n";v.send("feature",Mb.ii);clearInterval(a)}},500)});c.alog("feature.create",{S1:4,L3:i,page:g,ub:"18"});c.alog("feature.fire","commit")}}(a,b,c)}(window,document,z);z.An=z.alog||s();z.alog("cus.fire","count","z_loadscriptcount"); "https:"===location.protocol&&z.alog("cus.fire","count","z_httpscount");function Rb(a){var b=window.TILE_VERSION,c="20170927";b&&b.ditu&&(b=b.ditu,b[a]&&b[a].updateDate&&(c=b[a].updateDate));return c};function pa(a,b){if(b){var c=(1E5*Math.random()).toFixed(0);z._rd["_cbk"+c]=function(a){b&&b(a);delete z._rd["_cbk"+c]};a+="&callback=BMap._rd._cbk"+c}var d=M("script",{type:"text/javascript"});d.charset="utf-8";d.src=a;d.addEventListener?d.addEventListener("load",function(a){a=a.target;a.parentNode.removeChild(a)},q):d.attachEvent&&d.attachEvent("onreadystatechange",function(){var a=window.event.srcElement;a&&("loaded"==a.readyState||"complete"==a.readyState)&&a.parentNode.removeChild(a)});setTimeout(function(){document.getElementsByTagName("head")[0].appendChild(d); d=p},1)};var Sb={map:"o3b5bq",common:"1jsk53",style:"hfbhis",tile:"5irhqt",vectordrawlib:"0bpbg4",newvectordrawlib:"3o4bcm",groundoverlay:"0rdnfr",pointcollection:"cjur4d",marker:"0zevs2",symbol:"eaver3",canvablepath:"gp22yf",vmlcontext:"o3pgbb",markeranimation:"4tffwc",poly:"4ewt5e",draw:"bc5lis",drawbysvg:"lp2q1e", drawbyvml:"0mz2sl",drawbycanvas:"ie5t54",infowindow:"d5ltk0",oppc:"yxewaq",opmb:"2b3mge",menu:"uaqnov",control:"zrzowm",navictrl:"ekcmmq",geoctrl:"szvqac",copyrightctrl:"owa3ga",citylistcontrol:"dieiks",scommon:"akkd5g",local:"spxcwu",route:"ik12uy",othersearch:"csvxvv",mapclick:"4wrbpj",buslinesearch:"yd05l4", hotspot:"ws2ryj",autocomplete:"4onici",coordtrans:"4kmffa",coordtransutils:"wu2txp",convertor:"onqilg",clayer:"hb2rzc",pservice:"srzrr4",pcommon:"nutdcf",panorama:"lecrxd",panoramaflash:"0odiws",vector:"g5id20"}; x.Iy=function(){function a(a){return d&&!!c[b+a+"_"+Sb[a]]}var b="BMap_",c=window.localStorage,d="localStorage"in window&&c!==p&&c!==j;return{pY:d,set:function(a,f){if(d){for(var g=b+a+"_",i=c.length,k;i--;)k=c.key(i),-1<k.indexOf(g)&&c.removeItem(k);try{c.setItem(b+a+"_"+Sb[a],f)}catch(l){c.clear()}}},get:function(e){return d&&a(e)?c.getItem(b+e+"_"+Sb[e]):q},dK:a}}();function I(){} x.object.extend(I,{Fj:{nG:-1,GP:0,Yp:1},oL:function(){var a="canvablepath",b=z.GU?"newvectordrawlib":"vectordrawlib";if(!G()||!Nb())Kb()||(Jb()?a="vmlcontext":Nb());return{tile:[b,"style"],control:[],marker:["symbol"],symbol:["canvablepath","common"],canvablepath:"canvablepath"===a?[]:[a],vmlcontext:[],style:[],poly:["marker","drawbycanvas","drawbysvg","drawbyvml"],drawbysvg:["draw"],drawbyvml:["draw"],drawbycanvas:["draw"],infowindow:["common","marker"],menu:[],oppc:[],opmb:[],scommon:[],local:["scommon"], route:["scommon"],othersearch:["scommon"],autocomplete:["scommon"],citylistcontrol:["autocomplete"],mapclick:["scommon"],buslinesearch:["route"],hotspot:[],coordtransutils:["coordtrans"],convertor:[],clayer:["tile"],pservice:[],pcommon:["style","pservice"],panorama:["pcommon"],panoramaflash:["pcommon"]}},O3:{},gG:{XP:z.ma+"getmodules?v=2.0&t=20140707",xU:5E3},BC:q,Pd:{rl:{},Cn:[],Qv:[]},load:function(a,b,c){var d=this.ib(a);if(d.Bd==this.Fj.Yp)c&&b();else{if(d.Bd==this.Fj.nG){this.jK(a);this.wN(a); var e=this;e.BC==q&&(e.BC=o,setTimeout(function(){for(var a=[],b=0,c=e.Pd.Cn.length;b<c;b++){var d=e.Pd.Cn[b],l="";ja.Iy.dK(d)?l=ja.Iy.get(d):(l="",a.push(d+"_"+Sb[d]));e.Pd.Qv.push({QM:d,IE:l})}e.BC=q;e.Pd.Cn.length=0;0==a.length?e.UK():pa(e.gG.XP+"&mod="+a.join(","))},1));d.Bd=this.Fj.GP}d.Ou.push(b)}},jK:function(a){if(a&&this.oL()[a])for(var a=this.oL()[a],b=0;b<a.length;b++)this.jK(a[b]),this.Pd.rl[a[b]]||this.wN(a[b])},wN:function(a){for(var b=0;b<this.Pd.Cn.length;b++)if(this.Pd.Cn[b]==a)return; this.Pd.Cn.push(a)},xZ:function(a,b){var c=this.ib(a);try{eval(b)}catch(d){return}c.Bd=this.Fj.Yp;for(var e=0,f=c.Ou.length;e<f;e++)c.Ou[e]();c.Ou.length=0},dK:function(a,b){var c=this;c.timeout=setTimeout(function(){c.Pd.rl[a].Bd!=c.Fj.Yp?(c.remove(a),c.load(a,b)):clearTimeout(c.timeout)},c.gG.xU)},ib:function(a){this.Pd.rl[a]||(this.Pd.rl[a]={},this.Pd.rl[a].Bd=this.Fj.nG,this.Pd.rl[a].Ou=[]);return this.Pd.rl[a]},remove:function(a){delete this.ib(a)},sV:function(a,b){for(var c=this.Pd.Qv,d=o,e= 0,f=c.length;e<f;e++)""==c[e].IE&&(c[e].QM==a?c[e].IE=b:d=q);d&&this.UK()},UK:function(){for(var a=this.Pd.Qv,b=0,c=a.length;b<c;b++)this.xZ(a[b].QM,a[b].IE);this.Pd.Qv.length=0}});function Q(a,b){this.x=a||0;this.y=b||0;this.x=this.x;this.y=this.y}Q.prototype.nb=function(a){return a&&a.x==this.x&&a.y==this.y};function N(a,b){this.width=a||0;this.height=b||0}N.prototype.nb=function(a){return a&&this.width==a.width&&this.height==a.height};function hb(a,b){a&&(this.Lb=a,this.ba="spot"+hb.ba++,b=b||{},this.Tg=b.text||"",this.wv=b.offsets?b.offsets.slice(0):[5,5,5,5],this.sJ=b.userData||p,this.Qh=b.minZoom||p,this.Ff=b.maxZoom||p)}hb.ba=0;x.extend(hb.prototype,{ra:function(a){this.Qh==p&&(this.Qh=a.K.gc);this.Ff==p&&(this.Ff=a.K.$b)},ta:function(a){a instanceof H&&(this.Lb=a)},ha:u("Lb"),Ut:ba("Tg"),UD:u("Tg"),setUserData:ba("sJ"),getUserData:u("sJ")});function Tb(){this.C=p;this.Mb="control";this.Qa=this.XJ=o}x.lang.ua(Tb,x.lang.Ca,"Control"); x.extend(Tb.prototype,{initialize:function(a){this.C=a;if(this.B)return a.Va.appendChild(this.B),this.B},Ee:function(a){!this.B&&(this.initialize&&Ya(this.initialize))&&(this.B=this.initialize(a));this.k=this.k||{zg:q};this.vB();this.Ir();this.B&&(this.B.hr=this)},vB:function(){var a=this.B;if(a){var b=a.style;b.position="absolute";b.zIndex=this.uz||"10";b.MozUserSelect="none";b.WebkitTextSizeAdjust="none";this.k.zg||x.D.Ua(a,"BMap_noprint");G()||x.M(a,"contextmenu",oa)}},remove:function(){this.C= p;this.B&&(this.B.parentNode&&this.B.parentNode.removeChild(this.B),this.B=this.B.hr=p)},Aa:function(){this.B=yb(this.C.Va,"<div unselectable='on'></div>");this.Qa==q&&x.D.U(this.B);return this.B},Ir:function(){this.qc(this.k.anchor)},qc:function(a){if(this.q1||!Xa(a)||isNaN(a)||a<Ub||3<a)a=this.defaultAnchor;this.k=this.k||{zg:q};this.k.za=this.k.za||this.defaultOffset;var b=this.k.anchor;this.k.anchor=a;if(this.B){var c=this.B,d=this.k.za.width,e=this.k.za.height;c.style.left=c.style.top=c.style.right= c.style.bottom="auto";switch(a){case Ub:c.style.top=e+"px";c.style.left=d+"px";break;case Vb:c.style.top=e+"px";c.style.right=d+"px";break;case Wb:c.style.bottom=e+"px";c.style.left=d+"px";break;case 3:c.style.bottom=e+"px",c.style.right=d+"px"}c=["TL","TR","BL","BR"];x.D.Sb(this.B,"anchor"+c[b]);x.D.Ua(this.B,"anchor"+c[a])}},wD:function(){return this.k.anchor},getContainer:u("B"),Ve:function(a){a instanceof N&&(this.k=this.k||{zg:q},this.k.za=new N(a.width,a.height),this.B&&this.qc(this.k.anchor))}, Qf:function(){return this.k.za},Id:u("B"),show:function(){this.Qa!=o&&(this.Qa=o,this.B&&x.D.show(this.B))},U:function(){this.Qa!=q&&(this.Qa=q,this.B&&x.D.U(this.B))},isPrintable:function(){return!!this.k.zg},kh:function(){return!this.B&&!this.C?q:!!this.Qa}});var Ub=0,Vb=1,Wb=2;function ib(a){Tb.call(this);a=a||{};this.k={zg:q,zF:a.showZoomInfo||o,anchor:a.anchor,za:a.offset,type:a.type,tW:a.enableGeolocation||q};this.defaultAnchor=G()?3:Ub;this.defaultOffset=new N(10,10);this.qc(a.anchor);this.fn(a.type);this.Ae()}x.lang.ua(ib,Tb,"NavigationControl");x.extend(ib.prototype,{initialize:function(a){this.C=a;return this.B},fn:function(a){this.k.type=Xa(a)&&0<=a&&3>=a?a:0},ep:function(){return this.k.type},Ae:function(){var a=this;I.load("navictrl",function(){a.xf()})}});function Xb(a){Tb.call(this);a=a||{};this.k={anchor:a.anchor||Wb,za:a.offset||new N(10,30),h_:a.showAddressBar!==q,Y1:a.enableAutoLocation||q,EM:a.locationIcon||p};var b=this;this.uz=1200;b.W_=[];this.le=[];I.load("geoctrl",function(){(function d(){if(0!==b.le.length){var a=b.le.shift();b[a.method].apply(b,a.arguments);d()}})();b.WP()});Ra(Ja)}x.lang.ua(Xb,Tb,"GeolocationControl");x.extend(Xb.prototype,{location:function(){this.le.push({method:"location",arguments:arguments})},getAddressComponent:ca(p)});function Yb(a){Tb.call(this);a=a||{};this.k={zg:q,anchor:a.anchor,za:a.offset};this.dc=[];this.defaultAnchor=Wb;this.defaultOffset=new N(5,2);this.qc(a.anchor);this.XJ=q;this.Ae()}x.lang.ua(Yb,Tb,"CopyrightControl"); x.object.extend(Yb.prototype,{initialize:function(a){this.C=a;return this.B},nw:function(a){if(a&&Xa(a.id)&&!isNaN(a.id)){var b={bounds:p,content:""},c;for(c in a)b[c]=a[c];if(a=this.nm(a.id))for(var d in b)a[d]=b[d];else this.dc.push(b)}},nm:function(a){for(var b=0,c=this.dc.length;b<c;b++)if(this.dc[b].id==a)return this.dc[b]},DD:u("dc"),$E:function(a){for(var b=0,c=this.dc.length;b<c;b++)this.dc[b].id==a&&(r=this.dc.splice(b,1),b--,c=this.dc.length)},Ae:function(){var a=this;I.load("copyrightctrl", function(){a.xf()})}});function kb(a){Tb.call(this);a=a||{};this.k={zg:q,size:a.size||new N(150,150),padding:5,Wa:a.isOpen===o?o:q,k0:4,za:a.offset,anchor:a.anchor};this.defaultAnchor=3;this.defaultOffset=new N(0,0);this.wq=this.xq=13;this.qc(a.anchor);this.ye(this.k.size);this.Ae()}x.lang.ua(kb,Tb,"OverviewMapControl"); x.extend(kb.prototype,{initialize:function(a){this.C=a;return this.B},qc:function(a){Tb.prototype.qc.call(this,a)},ne:function(){this.ne.ho=o;this.k.Wa=!this.k.Wa;this.B||(this.ne.ho=q)},ye:function(a){a instanceof N||(a=new N(150,150));a.width=0<a.width?a.width:150;a.height=0<a.height?a.height:150;this.k.size=a},Bb:function(){return this.k.size},Wa:function(){return this.k.Wa},Ae:function(){var a=this;I.load("control",function(){a.xf()})}});function Zb(a){Tb.call(this);a=a||{};this.defaultAnchor=Ub;this.pV=a.canCheckSize===q?q:o;this.ej="";this.defaultOffset=new N(10,10);this.onChangeBefore=[];this.onChangeAfter=[];this.onChangeSuccess=[];this.k={zg:q,za:a.offset||this.defaultOffset,anchor:a.anchor||this.defaultAnchor,expand:!!a.expand};a.onChangeBefore&&Ya(a.onChangeBefore)&&this.onChangeBefore.push(a.onChangeBefore);a.onChangeAfter&&Ya(a.onChangeAfter)&&this.onChangeAfter.push(a.onChangeAfter);a.onChangeSuccess&&Ya(a.onChangeSuccess)&& this.onChangeSuccess.push(a.onChangeSuccess);this.qc(a.anchor);this.Ae()}x.lang.ua(Zb,Tb,"CityListControl");x.object.extend(Zb.prototype,{initialize:function(a){this.C=a;return this.B},Ae:function(){var a=this;I.load("citylistcontrol",function(){a.xf()},o)}});function jb(a){Tb.call(this);a=a||{};this.k={zg:q,color:"black",cd:"metric",za:a.offset};this.defaultAnchor=Wb;this.defaultOffset=new N(81,18);this.qc(a.anchor);this.Zh={metric:{name:"metric",lK:1,XL:1E3,CO:"\u7c73",DO:"\u516c\u91cc"},us:{name:"us",lK:3.2808,XL:5280,CO:"\u82f1\u5c3a",DO:"\u82f1\u91cc"}};this.Zh[this.k.cd]||(this.k.cd="metric");this.RI=p;this.qI={};this.Ae()}x.lang.ua(jb,Tb,"ScaleControl"); x.object.extend(jb.prototype,{initialize:function(a){this.C=a;return this.B},Jk:function(a){this.k.color=a+""},p2:function(){return this.k.color},wF:function(a){this.k.cd=this.Zh[a]&&this.Zh[a].name||this.k.cd},MX:function(){return this.k.cd},Ae:function(){var a=this;I.load("control",function(){a.xf()})}});var $b=0;function lb(a){Tb.call(this);a=a||{};this.defaultAnchor=Vb;this.defaultOffset=new N(10,10);this.k={zg:q,nh:[Ma,Za,Sa,Pa],XV:["B_DIMENSIONAL_MAP","B_SATELLITE_MAP","B_NORMAL_MAP"],type:a.type||$b,za:a.offset||this.defaultOffset,xW:o};this.qc(a.anchor);"[object Array]"==Object.prototype.toString.call(a.mapTypes)&&(this.k.nh=a.mapTypes.slice(0));this.Ae()}x.lang.ua(lb,Tb,"MapTypeControl"); x.object.extend(lb.prototype,{initialize:function(a){this.C=a;return this.B},Jy:function(a){this.C.Wn=a},Ae:function(){var a=this;I.load("control",function(){a.xf()},o)}});function ac(a){Tb.call(this);a=a||{};this.k={zg:q,za:a.offset,anchor:a.anchor};this.Qi=q;this.Uv=p;this.zI=new bc({Pf:"api"});this.AI=new cc(p,{Pf:"api"});this.defaultAnchor=Vb;this.defaultOffset=new N(10,10);this.qc(a.anchor);this.Ae();Ra(va)}x.lang.ua(ac,Tb,"PanoramaControl");x.extend(ac.prototype,{initialize:function(a){this.C=a;return this.B},Ae:function(){var a=this;I.load("control",function(){a.xf()})}});function dc(a){x.lang.Ca.call(this);this.k={Va:p,cursor:"default"};this.k=x.extend(this.k,a);this.Mb="contextmenu";this.C=p;this.ya=[];this.If=[];this.Ce=[];this.Pw=this.hs=p;this.Ph=q;var b=this;I.load("menu",function(){b.yb()})}x.lang.ua(dc,x.lang.Ca,"ContextMenu"); x.object.extend(dc.prototype,{ra:function(a,b){this.C=a;this.wl=b||p},remove:function(){this.C=this.wl=p},qw:function(a){if(a&&!("menuitem"!=a.Mb||""==a.Tg||0>=a.Zi)){for(var b=0,c=this.ya.length;b<c;b++)if(this.ya[b]===a)return;this.ya.push(a);this.If.push(a)}},removeItem:function(a){if(a&&"menuitem"==a.Mb){for(var b=0,c=this.ya.length;b<c;b++)this.ya[b]===a&&(this.ya[b].remove(),this.ya.splice(b,1),c--);b=0;for(c=this.If.length;b<c;b++)this.If[b]===a&&(this.If[b].remove(),this.If.splice(b,1),c--)}}, PB:function(){this.ya.push({Mb:"divider",Nj:this.Ce.length});this.Ce.push({D:p})},bF:function(a){if(this.Ce[a]){for(var b=0,c=this.ya.length;b<c;b++)this.ya[b]&&("divider"==this.ya[b].Mb&&this.ya[b].Nj==a)&&(this.ya.splice(b,1),c--),this.ya[b]&&("divider"==this.ya[b].Mb&&this.ya[b].Nj>a)&&this.ya[b].Nj--;this.Ce.splice(a,1)}},Id:u("B"),show:function(){this.Ph!=o&&(this.Ph=o)},U:function(){this.Ph!=q&&(this.Ph=q)},NZ:function(a){a&&(this.k.cursor=a)},getItem:function(a){return this.If[a]}});var ec=E.qa+"menu_zoom_in.png",fc=E.qa+"menu_zoom_out.png";function gc(a,b,c){if(a&&Ya(b)){x.lang.Ca.call(this);this.k={width:100,id:"",Bm:""};c=c||{};this.k.width=1*c.width?c.width:100;this.k.id=c.id?c.id:"";this.k.Bm=c.iconUrl?c.iconUrl:"";this.Tg=a+"";this.xz=b;this.C=p;this.Mb="menuitem";this.Pr=this.lv=this.B=this.Hh=p;this.Lh=o;var d=this;I.load("menu",function(){d.yb()})}}x.lang.ua(gc,x.lang.Ca,"MenuItem"); x.object.extend(gc.prototype,{ra:function(a,b){this.C=a;this.Hh=b},remove:function(){this.C=this.Hh=p},Ut:function(a){a&&(this.Tg=a+"")},Ub:function(a){a&&(this.k.Bm=a)},Id:u("B"),enable:function(){this.Lh=o},disable:function(){this.Lh=q}});function eb(a,b){a&&!b&&(b=a);this.Ge=this.Fe=this.Le=this.Ke=this.Ll=this.ul=p;a&&(this.Ll=new H(a.lng,a.lat),this.ul=new H(b.lng,b.lat),this.Le=a.lng,this.Ke=a.lat,this.Ge=b.lng,this.Fe=b.lat)} x.object.extend(eb.prototype,{xj:function(){return!this.Ll||!this.ul},nb:function(a){return!(a instanceof eb)||this.xj()?q:this.se().nb(a.se())&&this.of().nb(a.of())},se:u("Ll"),of:u("ul"),GV:function(a){return!(a instanceof eb)||this.xj()||a.xj()?q:a.Le>this.Le&&a.Ge<this.Ge&&a.Ke>this.Ke&&a.Fe<this.Fe},Ka:function(){return this.xj()?p:new H((this.Le+this.Ge)/2,(this.Ke+this.Fe)/2)},gt:function(a){if(!(a instanceof eb)||Math.max(a.Le,a.Ge)<Math.min(this.Le,this.Ge)||Math.min(a.Le,a.Ge)>Math.max(this.Le, this.Ge)||Math.max(a.Ke,a.Fe)<Math.min(this.Ke,this.Fe)||Math.min(a.Ke,a.Fe)>Math.max(this.Ke,this.Fe))return p;var b=Math.max(this.Le,a.Le),c=Math.min(this.Ge,a.Ge),d=Math.max(this.Ke,a.Ke),a=Math.min(this.Fe,a.Fe);return new eb(new H(b,d),new H(c,a))},cs:function(a){return!(a instanceof H)||this.xj()?q:a.lng>=this.Le&&a.lng<=this.Ge&&a.lat>=this.Ke&&a.lat<=this.Fe},extend:function(a){if(a instanceof H){var b=a.lng,a=a.lat;this.Ll||(this.Ll=new H(0,0));this.ul||(this.ul=new H(0,0));if(!this.Le||ilog.js
new file mode 100644
index 0000000000000000000000000000000000000000..8fc9ea4f8cda30de80d515ceae3b4406987f1b44
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/verilog/verilog.js
@@ -0,0 +1,364 @@
+// CodeMirror, copyright (c) by Marijn Haverbeke and others
+// Distributed under an MIT license: http://codemirror.net/LICENSE
+
+(function(mod) {
+  if (typeof exports == "object" && typeof module == "object") // CommonJS
+    mod(require("../../lib/codemirror"));
+  else if (typeof define == "function" && define.amd) // AMD
+    define(["../../lib/codemirror"], mod);
+  else // Plain browser env
+    mod(CodeMirror);
+})(function(CodeMirror) {
+"use strict";
+
+CodeMirror.defineMode("verilog", function(config, parserConfig) {
+
+  var indentUnit = config.indentUnit,
+      statementIndentUnit = parserConfig.statementIndentUnit || indentUnit,
+      dontAlignCalls = parserConfig.dontAlignCalls,
+      noIndentKeywords = parserConfig.noIndentKeywords || [],
+      multiLineStrings = parserConfig.multiLineStrings;
+
+  function words(str) {
+    var obj = {}, words = str.split(" ");
+    for (var i = 0; i < words.length; ++i) obj[words[i]] = true;
+    return obj;
+  }
+
+  /**
+   * Keywords from IEEE 1800-2012
+   */
+  var keywords = words(
+    "accept_on alias always always_comb always_ff always_latch and assert assign assume automatic before begin bind " +
+    "bins binsof bit break buf bufif0 bufif1 byte case casex casez cell chandle checker class clocking cmos config " +
+    "const constraint context continue cover covergroup coverpoint cross deassign default defparam design disable " +
+    "dist do edge else end endcase endchecker endclass endclocking endconfig endfunction endgenerate endgroup " +
+    "endinterface endmodule endpackage endprimitive endprogram endproperty endspecify endsequence endtable endtask " +
+    "enum event eventually expect export extends extern final first_match for force foreach forever fork forkjoin " +
+    "function generate genvar global highz0 highz1 if iff ifnone ignore_bins illegal_bins implements implies import " +
+    "incdir include initial inout input inside instance int integer interconnect interface intersect join join_any " +
+    "join_none large let liblist library local localparam logic longint macromodule matches medium modport module " +
+    "nand negedge nettype new nexttime nmos nor noshowcancelled not notif0 notif1 null or output package packed " +
+    "parameter pmos posedge primitive priority program property protected pull0 pull1 pulldown pullup " +
+    "pulsestyle_ondetect pulsestyle_onevent pure rand randc randcase randsequence rcmos real realtime ref reg " +
+    "reject_on release repeat restrict return rnmos rpmos rtran rtranif0 rtranif1 s_always s_eventually s_nexttime " +
+    "s_until s_until_with scalared sequence shortint shortreal showcancelled signed small soft solve specify " +
+    "specparam static string strong strong0 strong1 struct super supply0 supply1 sync_accept_on sync_reject_on " +
+    "table tagged task this throughout time timeprecision timeunit tran tranif0 tranif1 tri tri0 tri1 triand trior " +
+    "trireg type typedef union unique unique0 unsigned until until_with untyped use uwire var vectored virtual void " +
+    "wait wait_order wand weak weak0 weak1 while wildcard wire with within wor xnor xor");
+
+  /** Operators from IEEE 1800-2012
+     unary_operator ::=
+       + | - | ! | ~ | & | ~& | | | ~| | ^ | ~^ | ^~
+     binary_operator ::=
+       + | - | * | / | % | == | != | === | !== | ==? | !=? | && | || | **
+       | < | <= | > | >= | & | | | ^ | ^~ | ~^ | >> | << | >>> | <<<
+       | -> | <->
+     inc_or_dec_operator ::= ++ | --
+     unary_module_path_operator ::=
+       ! | ~ | & | ~& | | | ~| | ^ | ~^ | ^~
+     binary_module_path_operator ::=
+       == | != | && | || | & | | | ^ | ^~ | ~^
+  */
+  var isOperatorChar = /[\+\-\*\/!~&|^%=?:]/;
+  var isBracketChar = /[\[\]{}()]/;
+
+  var unsignedNumber = /\d[0-9_]*/;
+  var decimalLiteral = /\d*\s*'s?d\s*\d[0-9_]*/i;
+  var binaryLiteral = /\d*\s*'s?b\s*[xz01][xz01_]*/i;
+  var octLiteral = /\d*\s*'s?o\s*[xz0-7][xz0-7_]*/i;
+  var hexLiteral = /\d*\s*'s?h\s*[0-9a-fxz?][0-9a-fxz?_]*/i;
+  var realLiteral = /(\d[\d_]*(\.\d[\d_]*)?E-?[\d_]+)|(\d[\d_]*\.\d[\d_]*)/i;
+
+  var closingBracketOrWord = /^((\w+)|[)}\]])/;
+  var closingBracket = /[)}\]]/;
+
+  var curPunc;
+  var curKeyword;
+
+  // Block openings which are closed by a matching keyword in the form of ("end" + keyword)
+  // E.g. "task" => "endtask"
+  var blockKeywords = words(
+    "case checker class clocking config function generate interface module package" +
+    "primitive program property specify sequence table task"
+  );
+
+  // Opening/closing pairs
+  var openClose = {};
+  for (var keyword in blockKeywords) {
+    openClose[keyword] = "end" + keyword;
+  }
+  openClose["begin"] = "end";
+  openClose["casex"] = "endcase";
+  openClose["casez"] = "endcase";
+  openClose["do"   ] = "while";
+  openClose["fork" ] = "join;join_any;join_none";
+  openClose["covergroup"] = "endgroup";
+
+  for (var i in noIndentKeywords) {
+    var keyword = noIndentKeywords[i];
+    if (openClose[keyword]) {
+      openClose[keyword] = undefined;
+    }
+  }
+
+  // Keywords which open statements that are ended with a semi-colon
+  var statementKeywords = words("always always_comb always_ff always_latch assert assign assume else export for foreach forever if import initial repeat while");
+
+  function tokenBase(stream, state) {
+    var ch = stream.peek();
+    if (/[,;:\.]/.test(ch)) {
+      curPunc = stream.next();
+      return null;
+    }
+    if (isBracketChar.test(ch)) {
+      curPunc = stream.next();
+      return "bracket";
+    }
+    // Macros (tick-defines)
+    if (ch == '`') {
+      stream.next();
+      if (stream.eatWhile(/[\w\$_]/)) {
+        return "def";
+      } else {
+        return null;
+      }
+    }
+    // System calls
+    if (ch == '$') {
+      stream.next();
+      if (stream.eatWhile(/[\w\$_]/)) {
+        return "meta";
+      } else {
+        return null;
+      }
+    }
+    // Time literals
+    if (ch == '#') {
+      stream.next();
+      stream.eatWhile(/[\d_.]/);
+      return "def";
+    }
+    // Strings
+    if (ch == '"') {
+      stream.next();
+      state.tokenize = tokenString(ch);
+      return state.tokenize(stream, state);
+    }
+    // Comments
+    if (ch == "/") {
+      stream.next();
+      if (stream.eat("*")) {
+        state.tokenize = tokenComment;
+        return tokenComment(stream, state);
+      }
+      if (stream.eat("/")) {
+        stream.skipToEnd();
+        return "comment";
+      }
+      stream.backUp(1);
+    }
+
+    // Numeric literals
+    if (stream.match(realLiteral) ||
+        stream.match(decimalLiteral) ||
+        stream.match(binaryLiteral) ||
+        stream.match(octLiteral) ||
+        stream.match(hexLiteral) ||
+        stream.match(unsignedNumber) ||
+        stream.match(realLiteral)) {
+      return "number";
+    }
+
+    // Operators
+    if (stream.eatWhile(isOperatorChar)) {
+      return "meta";
+    }
+
+    // Keywords / plain variables
+    if (stream.eatWhile(/[\w\$_]/)) {
+      var cur = stream.current();
+      if (keywords[cur]) {
+        if (openClose[cur]) {
+          curPunc = "newblock";
+        }
+        if (statementKeywords[cur]) {
+          curPunc = "newstatement";
+        }
+        curKeyword = cur;
+        return "keyword";
+      }
+      return "variable";
+    }
+
+    stream.next();
+    return null;
+  }
+
+  function tokenString(quote) {
+    return function(stream, state) {
+      var escaped = false, next, end = false;
+      while ((next = stream.next()) != null) {
+        if (next == quote && !escaped) {end = true; break;}
+        escaped = !escaped && next == "\\";
+      }
+      if (end || !(escaped || multiLineStrings))
+        state.tokenize = tokenBase;
+      return "string";
+    };
+  }
+
+  function tokenComment(stream, state) {
+    var maybeEnd = false, ch;
+    while (ch = stream.next()) {
+      if (ch == "/" && maybeEnd) {
+        state.tokenize = tokenBase;
+        break;
+      }
+      maybeEnd = (ch == "*");
+    }
+    return "comment";
+  }
+
+  function Context(indented, column, type, align, prev) {
+    this.indented = indented;
+    this.column = column;
+    this.type = type;
+    this.align = align;
+    this.prev = prev;
+  }
+  function pushContext(state, col, type) {
+    var indent = state.indented;
+    var c = new Context(indent, col, type, null, state.context);
+    return state.context = c;
+  }
+  function popContext(state) {
+    var t = state.context.type;
+    if (t == ")" || t == "]" || t == "}") {
+      state.indented = state.context.indented;
+    }
+    return state.context = state.context.prev;
+  }
+
+  function isClosing(text, contextClosing) {
+    if (text == contextClosing) {
+      return true;
+    } else {
+      // contextClosing may be mulitple keywords separated by ;
+      var closingKeywords = contextClosing.split(";");
+      for (var i in closingKeywords) {
+        if (text == closingKeywords[i]) {
+          return true;
+        }
+      }
+      return false;
+    }
+  }
+
+  function buildElectricInputRegEx() {
+    // Reindentation should occur on any bracket char: {}()[]
+    // or on a match of any of the block closing keywords, at
+    // the end of a line
+    var allClosings = [];
+    for (var i in openClose) {
+      if (openClose[i]) {
+        var closings = openClose[i].split(";");
+        for (var j in closings) {
+          allClosings.push(closings[j]);
+        }
+      }
+    }
+    var re = new RegExp("[{}()\\[\\]]|(" + allClosings.join("|") + ")$");
+    return re;
+  }
+
+  // Interface
+  return {
+
+    // Regex to force current line to reindent
+    electricInput: buildElectricInputRegEx(),
+
+    startState: function(basecolumn) {
+      return {
+        tokenize: null,
+        context: new Context((basecolumn || 0) - indentUnit, 0, "top", false),
+        indented: 0,
+        startOfLine: true
+      };
+    },
+
+    token: function(stream, state) {
+      var ctx = state.context;
+      if (stream.sol()) {
+        if (ctx.align == null) ctx.align = false;
+        state.indented = stream.indentation();
+        state.startOfLine = true;
+      }
+      if (stream.eatSpace()) return null;
+      curPunc = null;
+      curKeyword = null;
+      var style = (state.tokenize || tokenBase)(stream, state);
+      if (style == "comment" || style == "meta" || style == "variable") return style;
+      if (ctx.align == null) ctx.align = true;
+
+      if (curPunc == ctx.type) {
+        popContext(state);
+      }
+      else if ((curPunc == ";" && ctx.type == "statement") ||
+               (ctx.type && isClosing(curKeyword, ctx.type))) {
+        ctx = popContext(state);
+        while (ctx && ctx.type == "statement") ctx = popContext(state);
+      }
+      else if (curPunc == "{") { pushContext(state, stream.column(), "}"); }
+      else if (curPunc == "[") { pushContext(state, stream.column(), "]"); }
+      else if (curPunc == "(") { pushContext(state, stream.column(), ")"); }
+      else if (ctx && ctx.type == "endcase" && curPunc == ":") { pushContext(state, stream.column(), "statement"); }
+      else if (curPunc == "newstatement") {
+        pushContext(state, stream.column(), "statement");
+      } else if (curPunc == "newblock") {
+        if (curKeyword == "function" && ctx && (ctx.type == "statement" || ctx.type == "endgroup")) {
+          // The 'function' keyword can appear in some other contexts where it actually does not
+          // indicate a function (import/export DPI and covergroup definitions).
+          // Do nothing in this case
+        } else if (curKeyword == "task" && ctx && ctx.type == "statement") {
+          // Same thing for task
+        } else {
+          var close = openClose[curKeyword];
+          pushContext(state, stream.column(), close);
+        }
+      }
+
+      state.startOfLine = false;
+      return style;
+    },
+
+    indent: function(state, textAfter) {
+      if (state.tokenize != tokenBase && state.tokenize != null) return CodeMirror.Pass;
+      var ctx = state.context, firstChar = textAfter && textAfter.charAt(0);
+      if (ctx.type == "statement" && firstChar == "}") ctx = ctx.prev;
+      var closing = false;
+      var possibleClosing = textAfter.match(closingBracketOrWord);
+      if (possibleClosing) {
+        closing = isClosing(possibleClosing[0], ctx.type);
+      }
+      if (ctx.type == "statement") return ctx.indented + (firstChar == "{" ? 0 : statementIndentUnit);
+      else if (closingBracket.test(ctx.type) && ctx.align && !dontAlignCalls) return ctx.column + (closing ? 0 : 1);
+      else if (ctx.type == ")" && !closing) return ctx.indented + statementIndentUnit;
+      else return ctx.indented + (closing ? 0 : indentUnit);
+    },
+
+    blockCommentStart: "/*",
+    blockCommentEnd: "*/",
+    lineComment: "//"
+  };
+});
+
+CodeMirror.defineMIME("text/x-verilog", {
+  name: "verilog"
+});
+CodeMirror.defineMIME("text/x-systemverilog", {
+  name: "systemverilog"
+});
+
+});
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xml/index.html b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xml/index.html
new file mode 100644
index 0000000000000000000000000000000000000000..7149f06b2a2ed4a8c83438acba06d91ad4d628da
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xml/index.html
@@ -0,0 +1,57 @@
+<!doctype html>
+
+<title>CodeMirror: XML mode</title>
+<meta charset="utf-8"/>
+<link rel=stylesheet href="../../doc/docs.css">
+
+<link rel="stylesheet" href="../../lib/codemirror.css">
+<script src="../../lib/codemirror.js"></script>
+<script src="xml.js"></script>
+<style type="text/css">.CodeMirror {border-top: 1px solid black; border-bottom: 1px solid black;}</style>
+<div id=nav>
+  <a href="http://codemirror.net"><h1>CodeMirror</h1><img id=logo src="../../doc/logo.png"></a>
+
+  <ul>
+    <li><a href="../../index.html">Home</a>
+    <li><a href="../../doc/manual.html">Manual</a>
+    <li><a href="https://github.com/codemirror/codemirror">Code</a>
+  </ul>
+  <ul>
+    <li><a href="../index.html">Language modes</a>
+    <li><a class=active href="#">XML</a>
+  </ul>
+</div>
+
+<article>
+<h2>XML mode</h2>
+<form><textarea id="code" name="code">
+&lt;html style="color: green"&gt;
+  &lt;!-- this is a comment --&gt;
+  &lt;head&gt;
+    &lt;title&gt;HTML Example&lt;/title&gt;
+  &lt;/head&gt;
+  &lt;body&gt;
+    The indentation tries to be &lt;em&gt;somewhat &amp;quot;do what
+    I mean&amp;quot;&lt;/em&gt;... but might not match your style.
+  &lt;/body&gt;
+&lt;/html&gt;
+</textarea></form>
+    <script>
+      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
+        mode: "text/html",
+        lineNumbers: true
+      });
+    </script>
+    <p>The XML mode supports two configuration parameters:</p>
+    <dl>
+      <dt><code>htmlMode (boolean)</code></dt>
+      <dd>This switches the mode to parse HTML instead of XML. This
+      means attributes do not have to be quoted, and some elements
+      (such as <code>br</code>) do not require a closing tag.</dd>
+      <dt><code>alignCDATA (boolean)</code></dt>
+      <dd>Setting this to true will force the opening tag of CDATA
+      blocks to not be indented.</dd>
+    </dl>
+
+    <p><strong>MIME types defined:</strong> <code>application/xml</code>, <code>text/html</code>.</p>
+  </article>
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xml/test.js b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xml/test.js
new file mode 100644
index 0000000000000000000000000000000000000000..f48156b51749f4ff7ab9f4f0a3725e7e4a85017a
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xml/test.js
@@ -0,0 +1,51 @@
+// CodeMirror, copyright (c) by Marijn Haverbeke and others
+// Distributed under an MIT license: http://codemirror.net/LICENSE
+
+(function() {
+  var mode = CodeMirror.getMode({indentUnit: 2}, "xml"), mname = "xml";
+  function MT(name) { test.mode(name, mode, Array.prototype.slice.call(arguments, 1), mname); }
+
+  MT("matching",
+     "[tag&bracket <][tag top][tag&bracket >]",
+     "  text",
+     "  [tag&bracket <][tag inner][tag&bracket />]",
+     "[tag&bracket </][tag top][tag&bracket >]");
+
+  MT("nonmatching",
+     "[tag&bracket <][tag top][tag&bracket >]",
+     "  [tag&bracket <][tag inner][tag&bracket />]",
+     "  [tag&bracket </][tag&error tip][tag&bracket&error >]");
+
+  MT("doctype",
+     "[meta <!doctype foobar>]",
+     "[tag&bracket <][tag top][tag&bracket />]");
+
+  MT("cdata",
+     "[tag&bracket <][tag top][tag&bracket >]",
+     "  [atom <![CDATA[foo]",
+     "[atom barbazguh]]]]>]",
+     "[tag&bracket </][tag top][tag&bracket >]");
+
+  // HTML tests
+  mode = CodeMirror.getMode({indentUnit: 2}, "text/html");
+
+  MT("selfclose",
+     "[tag&bracket <][tag html][tag&bracket >]",
+     "  [tag&bracket <][tag link] [attribute rel]=[string stylesheet] [attribute href]=[string \"/foobar\"][tag&bracket >]",
+     "[tag&bracket </][tag html][tag&bracket >]");
+
+  MT("list",
+     "[tag&bracket <][tag ol][tag&bracket >]",
+     "  [tag&bracket <][tag li][tag&bracket >]one",
+     "  [tag&bracket <][tag li][tag&bracket >]two",
+     "[tag&bracket </][tag ol][tag&bracket >]");
+
+  MT("valueless",
+     "[tag&bracket <][tag input] [attribute type]=[string checkbox] [attribute checked][tag&bracket />]");
+
+  MT("pThenArticle",
+     "[tag&bracket <][tag p][tag&bracket >]",
+     "  foo",
+     "[tag&bracket <][tag article][tag&bracket >]bar");
+
+})();
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xml/xml.js b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xml/xml.js
new file mode 100644
index 0000000000000000000000000000000000000000..2f3b8f87a0f53af01fb4b09927350f6e9ae81882
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xml/xml.js
@@ -0,0 +1,384 @@
+// CodeMirror, copyright (c) by Marijn Haverbeke and others
+// Distributed under an MIT license: http://codemirror.net/LICENSE
+
+(function(mod) {
+  if (typeof exports == "object" && typeof module == "object") // CommonJS
+    mod(require("../../lib/codemirror"));
+  else if (typeof define == "function" && define.amd) // AMD
+    define(["../../lib/codemirror"], mod);
+  else // Plain browser env
+    mod(CodeMirror);
+})(function(CodeMirror) {
+"use strict";
+
+CodeMirror.defineMode("xml", function(config, parserConfig) {
+  var indentUnit = config.indentUnit;
+  var multilineTagIndentFactor = parserConfig.multilineTagIndentFactor || 1;
+  var multilineTagIndentPastTag = parserConfig.multilineTagIndentPastTag;
+  if (multilineTagIndentPastTag == null) multilineTagIndentPastTag = true;
+
+  var Kludges = parserConfig.htmlMode ? {
+    autoSelfClosers: {'area': true, 'base': true, 'br': true, 'col': true, 'command': true,
+                      'embed': true, 'frame': true, 'hr': true, 'img': true, 'input': true,
+                      'keygen': true, 'link': true, 'meta': true, 'param': true, 'source': true,
+                      'track': true, 'wbr': true, 'menuitem': true},
+    implicitlyClosed: {'dd': true, 'li': true, 'optgroup': true, 'option': true, 'p': true,
+                       'rp': true, 'rt': true, 'tbody': true, 'td': true, 'tfoot': true,
+                       'th': true, 'tr': true},
+    contextGrabbers: {
+      'dd': {'dd': true, 'dt': true},
+      'dt': {'dd': true, 'dt': true},
+      'li': {'li': true},
+      'option': {'option': true, 'optgroup': true},
+      'optgroup': {'optgroup': true},
+      'p': {'address': true, 'article': true, 'aside': true, 'blockquote': true, 'dir': true,
+            'div': true, 'dl': true, 'fieldset': true, 'footer': true, 'form': true,
+            'h1': true, 'h2': true, 'h3': true, 'h4': true, 'h5': true, 'h6': true,
+            'header': true, 'hgroup': true, 'hr': true, 'menu': true, 'nav': true, 'ol': true,
+            'p': true, 'pre': true, 'section': true, 'table': true, 'ul': true},
+      'rp': {'rp': true, 'rt': true},
+      'rt': {'rp': true, 'rt': true},
+      'tbody': {'tbody': true, 'tfoot': true},
+      'td': {'td': true, 'th': true},
+      'tfoot': {'tbody': true},
+      'th': {'td': true, 'th': true},
+      'thead': {'tbody': true, 'tfoot': true},
+      'tr': {'tr': true}
+    },
+    doNotIndent: {"pre": true},
+    allowUnquoted: true,
+    allowMissing: true,
+    caseFold: true
+  } : {
+    autoSelfClosers: {},
+    implicitlyClosed: {},
+    contextGrabbers: {},
+    doNotIndent: {},
+    allowUnquoted: false,
+    allowMissing: false,
+    caseFold: false
+  };
+  var alignCDATA = parserConfig.alignCDATA;
+
+  // Return variables for tokenizers
+  var type, setStyle;
+
+  function inText(stream, state) {
+    function chain(parser) {
+      state.tokenize = parser;
+      return parser(stream, state);
+    }
+
+    var ch = stream.next();
+    if (ch == "<") {
+      if (stream.eat("!")) {
+        if (stream.eat("[")) {
+          if (stream.match("CDATA[")) return chain(inBlock("atom", "]]>"));
+          else return null;
+        } else if (stream.match("--")) {
+          return chain(inBlock("comment", "-->"));
+        } else if (stream.match("DOCTYPE", true, true)) {
+          stream.eatWhile(/[\w\._\-]/);
+          return chain(doctype(1));
+        } else {
+          return null;
+        }
+      } else if (stream.eat("?")) {
+        stream.eatWhile(/[\w\._\-]/);
+        state.tokenize = inBlock("meta", "?>");
+        return "meta";
+      } else {
+        type = stream.eat("/") ? "closeTag" : "openTag";
+        state.tokenize = inTag;
+        return "tag bracket";
+      }
+    } else if (ch == "&") {
+      var ok;
+      if (stream.eat("#")) {
+        if (stream.eat("x")) {
+          ok = stream.eatWhile(/[a-fA-F\d]/) && stream.eat(";");
+        } else {
+          ok = stream.eatWhile(/[\d]/) && stream.eat(";");
+        }
+      } else {
+        ok = stream.eatWhile(/[\w\.\-:]/) && stream.eat(";");
+      }
+      return ok ? "atom" : "error";
+    } else {
+      stream.eatWhile(/[^&<]/);
+      return null;
+    }
+  }
+
+  function inTag(stream, state) {
+    var ch = stream.next();
+    if (ch == ">" || (ch == "/" && stream.eat(">"))) {
+      state.tokenize = inText;
+      type = ch == ">" ? "endTag" : "selfcloseTag";
+      return "tag bracket";
+    } else if (ch == "=") {
+      type = "equals";
+      return null;
+    } else if (ch == "<") {
+      state.tokenize = inText;
+      state.state = baseState;
+      state.tagName = state.tagStart = null;
+      var next = state.tokenize(stream, state);
+      return next ? next + " tag error" : "tag error";
+    } else if (/[\'\"]/.test(ch)) {
+      state.tokenize = inAttribute(ch);
+      state.stringStartCol = stream.column();
+      return state.tokenize(stream, state);
+    } else {
+      stream.match(/^[^\s\u00a0=<>\"\']*[^\s\u00a0=<>\"\'\/]/);
+      return "word";
+    }
+  }
+
+  function inAttribute(quote) {
+    var closure = function(stream, state) {
+      while (!stream.eol()) {
+        if (stream.next() == quote) {
+          state.tokenize = inTag;
+          break;
+        }
+      }
+      return "string";
+    };
+    closure.isInAttribute = true;
+    return closure;
+  }
+
+  function inBlock(style, terminator) {
+    return function(stream, state) {
+      while (!stream.eol()) {
+        if (stream.match(terminator)) {
+          state.tokenize = inText;
+          break;
+        }
+        stream.next();
+      }
+      return style;
+    };
+  }
+  function doctype(depth) {
+    return function(stream, state) {
+      var ch;
+      while ((ch = stream.next()) != null) {
+        if (ch == "<") {
+          state.tokenize = doctype(depth + 1);
+          return state.tokenize(stream, state);
+        } else if (ch == ">") {
+          if (depth == 1) {
+            state.tokenize = inText;
+            break;
+          } else {
+            state.tokenize = doctype(depth - 1);
+            return state.tokenize(stream, state);
+          }
+        }
+      }
+      return "meta";
+    };
+  }
+
+  function Context(state, tagName, startOfLine) {
+    this.prev = state.context;
+    this.tagName = tagName;
+    this.indent = state.indented;
+    this.startOfLine = startOfLine;
+    if (Kludges.doNotIndent.hasOwnProperty(tagName) || (state.context && state.context.noIndent))
+      this.noIndent = true;
+  }
+  function popContext(state) {
+    if (state.context) state.context = state.context.prev;
+  }
+  function maybePopContext(state, nextTagName) {
+    var parentTagName;
+    while (true) {
+      if (!state.context) {
+        return;
+      }
+      parentTagName = state.context.tagName;
+      if (!Kludges.contextGrabbers.hasOwnProperty(parentTagName) ||
+          !Kludges.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {
+        return;
+      }
+      popContext(state);
+    }
+  }
+
+  function baseState(type, stream, state) {
+    if (type == "openTag") {
+      state.tagStart = stream.column();
+      return tagNameState;
+    } else if (type == "closeTag") {
+      return closeTagNameState;
+    } else {
+      return baseState;
+    }
+  }
+  function tagNameState(type, stream, state) {
+    if (type == "word") {
+      state.tagName = stream.current();
+      setStyle = "tag";
+      return attrState;
+    } else {
+      setStyle = "error";
+      return tagNameState;
+    }
+  }
+  function closeTagNameState(type, stream, state) {
+    if (type == "word") {
+      var tagName = stream.current();
+      if (state.context && state.context.tagName != tagName &&
+          Kludges.implicitlyClosed.hasOwnProperty(state.context.tagName))
+        popContext(state);
+      if (state.context && state.context.tagName == tagName) {
+        setStyle = "tag";
+        return closeState;
+      } else {
+        setStyle = "tag error";
+        return closeStateErr;
+      }
+    } else {
+      setStyle = "error";
+      return closeStateErr;
+    }
+  }
+
+  function closeState(type, _stream, state) {
+    if (type != "endTag") {
+      setStyle = "error";
+      return closeState;
+    }
+    popContext(state);
+    return baseState;
+  }
+  function closeStateErr(type, stream, state) {
+    setStyle = "error";
+    return closeState(type, stream, state);
+  }
+
+  function attrState(type, _stream, state) {
+    if (type == "word") {
+      setStyle = "attribute";
+      return attrEqState;
+    } else if (type == "endTag" || type == "selfcloseTag") {
+      var tagName = state.tagName, tagStart = state.tagStart;
+      state.tagName = state.tagStart = null;
+      if (type == "selfcloseTag" ||
+          Kludges.autoSelfClosers.hasOwnProperty(tagName)) {
+        maybePopContext(state, tagName);
+      } else {
+        maybePopContext(state, tagName);
+        state.context = new Context(state, tagName, tagStart == state.indented);
+      }
+      return baseState;
+    }
+    setStyle = "error";
+    return attrState;
+  }
+  function attrEqState(type, stream, state) {
+    if (type == "equals") return attrValueState;
+    if (!Kludges.allowMissing) setStyle = "error";
+    return attrState(type, stream, state);
+  }
+  function attrValueState(type, stream, state) {
+    if (type == "string") return attrContinuedState;
+    if (type == "word" && Kludges.allowUnquoted) {setStyle = "string"; return attrState;}
+    setStyle = "error";
+    return attrState(type, stream, state);
+  }
+  function attrContinuedState(type, stream, state) {
+    if (type == "string") return attrContinuedState;
+    return attrState(type, stream, state);
+  }
+
+  return {
+    startState: function() {
+      return {tokenize: inText,
+              state: baseState,
+              indented: 0,
+              tagName: null, tagStart: null,
+              context: null};
+    },
+
+    token: function(stream, state) {
+      if (!state.tagName && stream.sol())
+        state.indented = stream.indentation();
+
+      if (stream.eatSpace()) return null;
+      type = null;
+      var style = state.tokenize(stream, state);
+      if ((style || type) && style != "comment") {
+        setStyle = null;
+        state.state = state.state(type || style, stream, state);
+        if (setStyle)
+          style = setStyle == "error" ? style + " error" : setStyle;
+      }
+      return style;
+    },
+
+    indent: function(state, textAfter, fullLine) {
+      var context = state.context;
+      // Indent multi-line strings (e.g. css).
+      if (state.tokenize.isInAttribute) {
+        if (state.tagStart == state.indented)
+          return state.stringStartCol + 1;
+        else
+          return state.indented + indentUnit;
+      }
+      if (context && context.noIndent) return CodeMirror.Pass;
+      if (state.tokenize != inTag && state.tokenize != inText)
+        return fullLine ? fullLine.match(/^(\s*)/)[0].length : 0;
+      // Indent the starts of attribute names.
+      if (state.tagName) {
+        if (multilineTagIndentPastTag)
+          return state.tagStart + state.tagName.length + 2;
+        else
+          return state.tagStart + indentUnit * multilineTagIndentFactor;
+      }
+      if (alignCDATA && /<!\[CDATA\[/.test(textAfter)) return 0;
+      var tagAfter = textAfter && /^<(\/)?([\w_:\.-]*)/.exec(textAfter);
+      if (tagAfter && tagAfter[1]) { // Closing tag spotted
+        while (context) {
+          if (context.tagName == tagAfter[2]) {
+            context = context.prev;
+            break;
+          } else if (Kludges.implicitlyClosed.hasOwnProperty(context.tagName)) {
+            context = context.prev;
+          } else {
+            break;
+          }
+        }
+      } else if (tagAfter) { // Opening tag spotted
+        while (context) {
+          var grabbers = Kludges.contextGrabbers[context.tagName];
+          if (grabbers && grabbers.hasOwnProperty(tagAfter[2]))
+            context = context.prev;
+          else
+            break;
+        }
+      }
+      while (context && !context.startOfLine)
+        context = context.prev;
+      if (context) return context.indent + indentUnit;
+      else return 0;
+    },
+
+    electricInput: /<\/[\s\w:]+>$/,
+    blockCommentStart: "<!--",
+    blockCommentEnd: "-->",
+
+    configuration: parserConfig.htmlMode ? "html" : "xml",
+    helperType: parserConfig.htmlMode ? "html" : "xml"
+  };
+});
+
+CodeMirror.defineMIME("text/xml", "xml");
+CodeMirror.defineMIME("application/xml", "xml");
+if (!CodeMirror.mimeModes.hasOwnProperty("text/html"))
+  CodeMirror.defineMIME("text/html", {name: "xml", htmlMode: true});
+
+});
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xquery/index.html b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xquery/index.html
new file mode 100644
index 0000000000000000000000000000000000000000..50c3eb33b8ccd6b4f01a36b5bb8042445868f359
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xquery/index.html
@@ -0,0 +1,210 @@
+<!doctype html>
+
+<title>CodeMirror: XQuery mode</title>
+<meta charset="utf-8"/>
+<link rel=stylesheet href="../../doc/docs.css">
+
+<link rel="stylesheet" href="../../lib/codemirror.css">
+<link rel="stylesheet" href="../../theme/xq-dark.css">
+<script src="../../lib/codemirror.js"></script>
+<script src="xquery.js"></script>
+<style type="text/css">
+	.CodeMirror {
+	  border-top: 1px solid black; border-bottom: 1px solid black;
+	  height:400px;
+	}
+    </style>
+<div id=nav>
+  <a href="http://codemirror.net"><h1>CodeMirror</h1><img id=logo src="../../doc/logo.png"></a>
+
+  <ul>
+    <li><a href="../../index.html">Home</a>
+    <li><a href="../../doc/manual.html">Manual</a>
+    <li><a href="https://github.com/codemirror/codemirror">Code</a>
+  </ul>
+  <ul>
+    <li><a href="../index.html">Language modes</a>
+    <li><a class=active href="#">XQuery</a>
+  </ul>
+</div>
+
+<article>
+<h2>XQuery mode</h2>
+
+
+<div class="cm-s-default">
+	<textarea id="code" name="code">
+xquery version &quot;1.0-ml&quot;;
+(: this is
+ : a
+   "comment" :)
+let $let := &lt;x attr=&quot;value&quot;&gt;&quot;test&quot;&lt;func&gt;function() $var {function()} {$var}&lt;/func&gt;&lt;/x&gt;
+let $joe:=1
+return element element {
+	attribute attribute { 1 },
+	element test { &#39;a&#39; },
+	attribute foo { &quot;bar&quot; },
+	fn:doc()[ foo/@bar eq $let ],
+	//x }
+
+(: a more 'evil' test :)
+(: Modified Blakeley example (: with nested comment :) ... :)
+declare private function local:declare() {()};
+declare private function local:private() {()};
+declare private function local:function() {()};
+declare private function local:local() {()};
+let $let := &lt;let&gt;let $let := &quot;let&quot;&lt;/let&gt;
+return element element {
+	attribute attribute { try { xdmp:version() } catch($e) { xdmp:log($e) } },
+	attribute fn:doc { &quot;bar&quot; castable as xs:string },
+	element text { text { &quot;text&quot; } },
+	fn:doc()[ child::eq/(@bar | attribute::attribute) eq $let ],
+	//fn:doc
+}
+
+
+
+xquery version &quot;1.0-ml&quot;;
+
+(: Copyright 2006-2010 Mark Logic Corporation. :)
+
+(:
+ : Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);
+ : you may not use this file except in compliance with the License.
+ : You may obtain a copy of the License at
+ :
+ :     http://www.apache.org/licenses/LICENSE-2.0
+ :
+ : Unless required by applicable law or agreed to in writing, software
+ : distributed under the License is distributed on an &quot;AS IS&quot; BASIS,
+ : WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
+ : See the License for the specific language governing permissions and
+ : limitations under the License.
+ :)
+
+module namespace json = &quot;http://marklogic.com/json&quot;;
+declare default function namespace &quot;http://www.w3.org/2005/xpath-functions&quot;;
+
+(: Need to backslash escape any double quotes, backslashes, and newlines :)
+declare function json:escape($s as xs:string) as xs:string {
+  let $s := replace($s, &quot;\\&quot;, &quot;\\\\&quot;)
+  let $s := replace($s, &quot;&quot;&quot;&quot;, &quot;\\&quot;&quot;&quot;)
+  let $s := replace($s, codepoints-to-string((13, 10)), &quot;\\n&quot;)
+  let $s := replace($s, codepoints-to-string(13), &quot;\\n&quot;)
+  let $s := replace($s, codepoints-to-string(10), &quot;\\n&quot;)
+  return $s
+};
+
+declare function json:atomize($x as element()) as xs:string {
+  if (count($x/node()) = 0) then 'null'
+  else if ($x/@type = &quot;number&quot;) then
+    let $castable := $x castable as xs:float or
+                     $x castable as xs:double or
+                     $x castable as xs:decimal
+    return
+    if ($castable) then xs:string($x)
+    else error(concat(&quot;Not a number: &quot;, xdmp:describe($x)))
+  else if ($x/@type = &quot;boolean&quot;) then
+    let $castable := $x castable as xs:boolean
+    return
+    if ($castable) then xs:string(xs:boolean($x))
+    else error(concat(&quot;Not a boolean: &quot;, xdmp:describe($x)))
+  else concat('&quot;', json:escape($x), '&quot;')
+};
+
+(: Print the thing that comes after the colon :)
+declare function json:print-value($x as element()) as xs:string {
+  if (count($x/*) = 0) then
+    json:atomize($x)
+  else if ($x/@quote = &quot;true&quot;) then
+    concat('&quot;', json:escape(xdmp:quote($x/node())), '&quot;')
+  else
+    string-join(('{',
+      string-join(for $i in $x/* return json:print-name-value($i), &quot;,&quot;),
+    '}'), &quot;&quot;)
+};
+
+(: Print the name and value both :)
+declare function json:print-name-value($x as element()) as xs:string? {
+  let $name := name($x)
+  let $first-in-array :=
+    count($x/preceding-sibling::*[name(.) = $name]) = 0 and
+    (count($x/following-sibling::*[name(.) = $name]) &gt; 0 or $x/@array = &quot;true&quot;)
+  let $later-in-array := count($x/preceding-sibling::*[name(.) = $name]) &gt; 0
+  return
+
+  if ($later-in-array) then
+    ()  (: I was handled previously :)
+  else if ($first-in-array) then
+    string-join(('&quot;', json:escape($name), '&quot;:[',
+      string-join((for $i in ($x, $x/following-sibling::*[name(.) = $name]) return json:print-value($i)), &quot;,&quot;),
+    ']'), &quot;&quot;)
+   else
+     string-join(('&quot;', json:escape($name), '&quot;:', json:print-value($x)), &quot;&quot;)
+};
+
+(:~
+  Transforms an XML element into a JSON string representation.  See http://json.org.
+  &lt;p/&gt;
+  Sample usage:
+  &lt;pre&gt;
+    xquery version &quot;1.0-ml&quot;;
+    import module namespace json=&quot;http://marklogic.com/json&quot; at &quot;json.xqy&quot;;
+    json:serialize(&amp;lt;foo&amp;gt;&amp;lt;bar&amp;gt;kid&amp;lt;/bar&amp;gt;&amp;lt;/foo&amp;gt;)
+  &lt;/pre&gt;
+  Sample transformations:
+  &lt;pre&gt;
+  &amp;lt;e/&amp;gt; becomes {&quot;e&quot;:null}
+  &amp;lt;e&amp;gt;text&amp;lt;/e&amp;gt; becomes {&quot;e&quot;:&quot;text&quot;}
+  &amp;lt;e&amp;gt;quote &quot; escaping&amp;lt;/e&amp;gt; becomes {&quot;e&quot;:&quot;quote \&quot; escaping&quot;}
+  &amp;lt;e&amp;gt;backslash \ escaping&amp;lt;/e&amp;gt; becomes {&quot;e&quot;:&quot;backslash \\ escaping&quot;}
+  &amp;lt;e&amp;gt;&amp;lt;a&amp;gt;text1&amp;lt;/a&amp;gt;&amp;lt;b&amp;gt;text2&amp;lt;/b&amp;gt;&amp;lt;/e&amp;gt; becomes {&quot;e&quot;:{&quot;a&quot;:&quot;text1&quot;,&quot;b&quot;:&quot;text2&quot;}}
+  &amp;lt;e&amp;gt;&amp;lt;a&amp;gt;text1&amp;lt;/a&amp;gt;&amp;lt;a&amp;gt;text2&amp;lt;/a&amp;gt;&amp;lt;/e&amp;gt; becomes {&quot;e&quot;:{&quot;a&quot;:[&quot;text1&quot;,&quot;text2&quot;]}}
+  &amp;lt;e&amp;gt;&amp;lt;a array=&quot;true&quot;&amp;gt;text1&amp;lt;/a&amp;gt;&amp;lt;/e&amp;gt; becomes {&quot;e&quot;:{&quot;a&quot;:[&quot;text1&quot;]}}
+  &amp;lt;e&amp;gt;&amp;lt;a type=&quot;boolean&quot;&amp;gt;false&amp;lt;/a&amp;gt;&amp;lt;/e&amp;gt; becomes {&quot;e&quot;:{&quot;a&quot;:false}}
+  &amp;lt;e&amp;gt;&amp;lt;a type=&quot;number&quot;&amp;gt;123.5&amp;lt;/a&amp;gt;&amp;lt;/e&amp;gt; becomes {&quot;e&quot;:{&quot;a&quot;:123.5}}
+  &amp;lt;e quote=&quot;true&quot;&amp;gt;&amp;lt;div attrib=&quot;value&quot;/&amp;gt;&amp;lt;/e&amp;gt; becomes {&quot;e&quot;:&quot;&amp;lt;div attrib=\&quot;value\&quot;/&amp;gt;&quot;}
+  &lt;/pre&gt;
+  &lt;p/&gt;
+  Namespace URIs are ignored.  Namespace prefixes are included in the JSON name.
+  &lt;p/&gt;
+  Attributes are ignored, except for the special attribute @array=&quot;true&quot; that
+  indicates the JSON serialization should write the node, even if single, as an
+  array, and the attribute @type that can be set to &quot;boolean&quot; or &quot;number&quot; to
+  dictate the value should be written as that type (unquoted).  There's also
+  an @quote attribute that when set to true writes the inner content as text
+  rather than as structured JSON, useful for sending some XHTML over the
+  wire.
+  &lt;p/&gt;
+  Text nodes within mixed content are ignored.
+
+  @param $x Element node to convert
+  @return String holding JSON serialized representation of $x
+
+  @author Jason Hunter
+  @version 1.0.1
+
+  Ported to xquery 1.0-ml; double escaped backslashes in json:escape
+:)
+declare function json:serialize($x as element())  as xs:string {
+  string-join(('{', json:print-name-value($x), '}'), &quot;&quot;)
+};
+  </textarea>
+</div>
+
+    <script>
+      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
+        lineNumbers: true,
+        matchBrackets: true,
+        theme: "xq-dark"
+      });
+    </script>
+
+    <p><strong>MIME types defined:</strong> <code>application/xquery</code>.</p>
+
+    <p>Development of the CodeMirror XQuery mode was sponsored by
+      <a href="http://marklogic.com">MarkLogic</a> and developed by
+      <a href="https://twitter.com/mbrevoort">Mike Brevoort</a>.
+    </p>
+
+  </article>
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xquery/test.js b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xquery/test.js
new file mode 100644
index 0000000000000000000000000000000000000000..1f148cdbbd8c056f8251b435b4da67aa99ca8283
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xquery/test.js
@@ -0,0 +1,67 @@
+// CodeMirror, copyright (c) by Marijn Haverbeke and others
+// Distributed under an MIT license: http://codemirror.net/LICENSE
+
+// Don't take these too seriously -- the expected results appear to be
+// based on the results of actual runs without any serious manual
+// verification. If a change you made causes them to fail, the test is
+// as likely to wrong as the code.
+
+(function() {
+  var mode = CodeMirror.getMode({tabSize: 4}, "xquery");
+  function MT(name) { test.mode(name, mode, Array.prototype.slice.call(arguments, 1)); }
+
+  MT("eviltest",
+     "[keyword xquery] [keyword version] [variable &quot;1][keyword .][atom 0][keyword -][variable ml&quot;][def&variable ;]      [comment (: this is       : a          \"comment\" :)]",
+     "      [keyword let] [variable $let] [keyword :=] [variable &lt;x] [variable attr][keyword =][variable &quot;value&quot;&gt;&quot;test&quot;&lt;func&gt][def&variable ;function]() [variable $var] {[keyword function]()} {[variable $var]}[variable &lt;][keyword /][variable func&gt;&lt;][keyword /][variable x&gt;]",
+     "      [keyword let] [variable $joe][keyword :=][atom 1]",
+     "      [keyword return] [keyword element] [variable element] {",
+     "          [keyword attribute] [variable attribute] { [atom 1] },",
+     "          [keyword element] [variable test] { [variable &#39;a&#39;] },           [keyword attribute] [variable foo] { [variable &quot;bar&quot;] },",
+     "          [def&variable fn:doc]()[[ [variable foo][keyword /][variable @bar] [keyword eq] [variable $let] ]],",
+     "          [keyword //][variable x] }                 [comment (: a more 'evil' test :)]",
+     "      [comment (: Modified Blakeley example (: with nested comment :) ... :)]",
+     "      [keyword declare] [keyword private] [keyword function] [def&variable local:declare]() {()}[variable ;]",
+     "      [keyword declare] [keyword private] [keyword function] [def&variable local:private]() {()}[variable ;]",
+     "      [keyword declare] [keyword private] [keyword function] [def&variable local:function]() {()}[variable ;]",
+     "      [keyword declare] [keyword private] [keyword function] [def&variable local:local]() {()}[variable ;]",
+     "      [keyword let] [variable $let] [keyword :=] [variable &lt;let&gt;let] [variable $let] [keyword :=] [variable &quot;let&quot;&lt;][keyword /let][variable &gt;]",
+     "      [keyword return] [keyword element] [variable element] {",
+     "          [keyword attribute] [variable attribute] { [keyword try] { [def&variable xdmp:version]() } [keyword catch]([variable $e]) { [def&variable xdmp:log]([variable $e]) } },",
+     "          [keyword attribute] [variable fn:doc] { [variable &quot;bar&quot;] [variable castable] [keyword as] [atom xs:string] },",
+     "          [keyword element] [variable text] { [keyword text] { [variable &quot;text&quot;] } },",
+     "          [def&variable fn:doc]()[[ [qualifier child::][variable eq][keyword /]([variable @bar] [keyword |] [qualifier attribute::][variable attribute]) [keyword eq] [variable $let] ]],",
+     "          [keyword //][variable fn:doc]",
+     "      }");
+
+  MT("testEmptySequenceKeyword",
+     "[string \"foo\"] [keyword instance] [keyword of] [keyword empty-sequence]()");
+
+  MT("testMultiAttr",
+     "[tag <p ][attribute a1]=[string \"foo\"] [attribute a2]=[string \"bar\"][tag >][variable hello] [variable world][tag </p>]");
+
+  MT("test namespaced variable",
+     "[keyword declare] [keyword namespace] [variable e] [keyword =] [string \"http://example.com/ANamespace\"][variable ;declare] [keyword variable] [variable $e:exampleComThisVarIsNotRecognized] [keyword as] [keyword element]([keyword *]) [variable external;]");
+
+  MT("test EQName variable",
+     "[keyword declare] [keyword variable] [variable $\"http://www.example.com/ns/my\":var] [keyword :=] [atom 12][variable ;]",
+     "[tag <out>]{[variable $\"http://www.example.com/ns/my\":var]}[tag </out>]");
+
+  MT("test EQName function",
+     "[keyword declare] [keyword function] [def&variable \"http://www.example.com/ns/my\":fn] ([variable $a] [keyword as] [atom xs:integer]) [keyword as] [atom xs:integer] {",
+     "   [variable $a] [keyword +] [atom 2]",
+     "}[variable ;]",
+     "[tag <out>]{[def&variable \"http://www.example.com/ns/my\":fn]([atom 12])}[tag </out>]");
+
+  MT("test EQName function with single quotes",
+     "[keyword declare] [keyword function] [def&variable 'http://www.example.com/ns/my':fn] ([variable $a] [keyword as] [atom xs:integer]) [keyword as] [atom xs:integer] {",
+     "   [variable $a] [keyword +] [atom 2]",
+     "}[variable ;]",
+     "[tag <out>]{[def&variable 'http://www.example.com/ns/my':fn]([atom 12])}[tag </out>]");
+
+  MT("testProcessingInstructions",
+     "[def&variable data]([comment&meta <?target content?>]) [keyword instance] [keyword of] [atom xs:string]");
+
+  MT("testQuoteEscapeDouble",
+     "[keyword let] [variable $rootfolder] [keyword :=] [string \"c:\\builds\\winnt\\HEAD\\qa\\scripts\\\"]",
+     "[keyword let] [variable $keysfolder] [keyword :=] [def&variable concat]([variable $rootfolder], [string \"keys\\\"])");
+})();
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xquery/xquery.js b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xquery/xquery.js
new file mode 100644
index 0000000000000000000000000000000000000000..c8f3d90a9fb8a1ce1f1253f251173949d1413bcb
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/xquery/xquery.js
@@ -0,0 +1,447 @@
+// CodeMirror, copyright (c) by Marijn Haverbeke and others
+// Distributed under an MIT license: http://codemirror.net/LICENSE
+
+(function(mod) {
+  if (typeof exports == "object" && typeof module == "object") // CommonJS
+    mod(require("../../lib/codemirror"));
+  else if (typeof define == "function" && define.amd) // AMD
+    define(["../../lib/codemirror"], mod);
+  else // Plain browser env
+    mod(CodeMirror);
+})(function(CodeMirror) {
+"use strict";
+
+CodeMirror.defineMode("xquery", function() {
+
+  // The keywords object is set to the result of this self executing
+  // function. Each keyword is a property of the keywords object whose
+  // value is {type: atype, style: astyle}
+  var keywords = function(){
+    // conveinence functions used to build keywords object
+    function kw(type) {return {type: type, style: "keyword"};}
+    var A = kw("keyword a")
+      , B = kw("keyword b")
+      , C = kw("keyword c")
+      , operator = kw("operator")
+      , atom = {type: "atom", style: "atom"}
+      , punctuation = {type: "punctuation", style: null}
+      , qualifier = {type: "axis_specifier", style: "qualifier"};
+
+    // kwObj is what is return from this function at the end
+    var kwObj = {
+      'if': A, 'switch': A, 'while': A, 'for': A,
+      'else': B, 'then': B, 'try': B, 'finally': B, 'catch': B,
+      'element': C, 'attribute': C, 'let': C, 'implements': C, 'import': C, 'module': C, 'namespace': C,
+      'return': C, 'super': C, 'this': C, 'throws': C, 'where': C, 'private': C,
+      ',': punctuation,
+      'null': atom, 'fn:false()': atom, 'fn:true()': atom
+    };
+
+    // a list of 'basic' keywords. For each add a property to kwObj with the value of
+    // {type: basic[i], style: "keyword"} e.g. 'after' --> {type: "after", style: "keyword"}
+    var basic = ['after','ancestor','ancestor-or-self','and','as','ascending','assert','attribute','before',
+    'by','case','cast','child','comment','declare','default','define','descendant','descendant-or-self',
+    'descending','document','document-node','element','else','eq','every','except','external','following',
+    'following-sibling','follows','for','function','if','import','in','instance','intersect','item',
+    'let','module','namespace','node','node','of','only','or','order','parent','precedes','preceding',
+    'preceding-sibling','processing-instruction','ref','return','returns','satisfies','schema','schema-element',
+    'self','some','sortby','stable','text','then','to','treat','typeswitch','union','variable','version','where',
+    'xquery', 'empty-sequence'];
+    for(var i=0, l=basic.length; i < l; i++) { kwObj[basic[i]] = kw(basic[i]);};
+
+    // a list of types. For each add a property to kwObj with the value of
+    // {type: "atom", style: "atom"}
+    var types = ['xs:string', 'xs:float', 'xs:decimal', 'xs:double', 'xs:integer', 'xs:boolean', 'xs:date', 'xs:dateTime',
+    'xs:time', 'xs:duration', 'xs:dayTimeDuration', 'xs:time', 'xs:yearMonthDuration', 'numeric', 'xs:hexBinary',
+    'xs:base64Binary', 'xs:anyURI', 'xs:QName', 'xs:byte','xs:boolean','xs:anyURI','xf:yearMonthDuration'];
+    for(var i=0, l=types.length; i < l; i++) { kwObj[types[i]] = atom;};
+
+    // each operator will add a property to kwObj with value of {type: "operator", style: "keyword"}
+    var operators = ['eq', 'ne', 'lt', 'le', 'gt', 'ge', ':=', '=', '>', '>=', '<', '<=', '.', '|', '?', 'and', 'or', 'div', 'idiv', 'mod', '*', '/', '+', '-'];
+    for(var i=0, l=operators.length; i < l; i++) { kwObj[operators[i]] = operator;};
+
+    // each axis_specifiers will add a property to kwObj with value of {type: "axis_specifier", style: "qualifier"}
+    var axis_specifiers = ["self::", "attribute::", "child::", "descendant::", "descendant-or-self::", "parent::",
+    "ancestor::", "ancestor-or-self::", "following::", "preceding::", "following-sibling::", "preceding-sibling::"];
+    for(var i=0, l=axis_specifiers.length; i < l; i++) { kwObj[axis_specifiers[i]] = qualifier; };
+
+    return kwObj;
+  }();
+
+  // Used as scratch variables to communicate multiple values without
+  // consing up tons of objects.
+  var type, content;
+
+  function ret(tp, style, cont) {
+    type = tp; content = cont;
+    return style;
+  }
+
+  function chain(stream, state, f) {
+    state.tokenize = f;
+    return f(stream, state);
+  }
+
+  // the primary mode tokenizer
+  function tokenBase(stream, state) {
+    var ch = stream.next(),
+        mightBeFunction = false,
+        isEQName = isEQNameAhead(stream);
+
+    // an XML tag (if not in some sub, chained tokenizer)
+    if (ch == "<") {
+      if(stream.match("!--", true))
+        return chain(stream, state, tokenXMLComment);
+
+      if(stream.match("![CDATA", false)) {
+        state.tokenize = tokenCDATA;
+        return ret("tag", "tag");
+      }
+
+      if(stream.match("?", false)) {
+        return chain(stream, state, tokenPreProcessing);
+      }
+
+      var isclose = stream.eat("/");
+      stream.eatSpace();
+      var tagName = "", c;
+      while ((c = stream.eat(/[^\s\u00a0=<>\"\'\/?]/))) tagName += c;
+
+      return chain(stream, state, tokenTag(tagName, isclose));
+    }
+    // start code block
+    else if(ch == "{") {
+      pushStateStack(state,{ type: "codeblock"});
+      return ret("", null);
+    }
+    // end code block
+    else if(ch == "}") {
+      popStateStack(state);
+      return ret("", null);
+    }
+    // if we're in an XML block
+    else if(isInXmlBlock(state)) {
+      if(ch == ">")
+        return ret("tag", "tag");
+      else if(ch == "/" && stream.eat(">")) {
+        popStateStack(state);
+        return ret("tag", "tag");
+      }
+      else
+        return ret("word", "variable");
+    }
+    // if a number
+    else if (/\d/.test(ch)) {
+      stream.match(/^\d*(?:\.\d*)?(?:E[+\-]?\d+)?/);
+      return ret("number", "atom");
+    }
+    // comment start
+    else if (ch === "(" && stream.eat(":")) {
+      pushStateStack(state, { type: "comment"});
+      return chain(stream, state, tokenComment);
+    }
+    // quoted string
+    else if (  !isEQName && (ch === '"' || ch === "'"))
+      return chain(stream, state, tokenString(ch));
+    // variable
+    else if(ch === "$") {
+      return chain(stream, state, tokenVariable);
+    }
+    // assignment
+    else if(ch ===":" && stream.eat("=")) {
+      return ret("operator", "keyword");
+    }
+    // open paren
+    else if(ch === "(") {
+      pushStateStack(state, { type: "paren"});
+      return ret("", null);
+    }
+    // close paren
+    else if(ch === ")") {
+      popStateStack(state);
+      return ret("", null);
+    }
+    // open paren
+    else if(ch === "[") {
+      pushStateStack(state, { type: "bracket"});
+      return ret("", null);
+    }
+    // close paren
+    else if(ch === "]") {
+      popStateStack(state);
+      return ret("", null);
+    }
+    else {
+      var known = keywords.propertyIsEnumerable(ch) && keywords[ch];
+
+      // if there's a EQName ahead, consume the rest of the string portion, it's likely a function
+      if(isEQName && ch === '\"') while(stream.next() !== '"'){}
+      if(isEQName && ch === '\'') while(stream.next() !== '\''){}
+
+      // gobble up a word if the character is not known
+      if(!known) stream.eatWhile(/[\w\$_-]/);
+
+      // gobble a colon in the case that is a lib func type call fn:doc
+      var foundColon = stream.eat(":");
+
+      // if there's not a second colon, gobble another word. Otherwise, it's probably an axis specifier
+      // which should get matched as a keyword
+      if(!stream.eat(":") && foundColon) {
+        stream.eatWhile(/[\w\$_-]/);
+      }
+      // if the next non whitespace character is an open paren, this is probably a function (if not a keyword of other sort)
+      if(stream.match(/^[ \t]*\(/, false)) {
+        mightBeFunction = true;
+      }
+      // is the word a keyword?
+      var word = stream.current();
+      known = keywords.propertyIsEnumerable(word) && keywords[word];
+
+      // if we think it's a function call but not yet known,
+      // set style to variable for now for lack of something better
+      if(mightBeFunction && !known) known = {type: "function_call", style: "variable def"};
+
+      // if the previous word was element, attribute, axis specifier, this word should be the name of that
+      if(isInXmlConstructor(state)) {
+        popStateStack(state);
+        return ret("word", "variable", word);
+      }
+      // as previously checked, if the word is element,attribute, axis specifier, call it an "xmlconstructor" and
+      // push the stack so we know to look for it on the next word
+      if(word == "element" || word == "attribute" || known.type == "axis_specifier") pushStateStack(state, {type: "xmlconstructor"});
+
+      // if the word is known, return the details of that else just call this a generic 'word'
+      return known ? ret(known.type, known.style, word) :
+                     ret("word", "variable", word);
+    }
+  }
+
+  // handle comments, including nested
+  function tokenComment(stream, state) {
+    var maybeEnd = false, maybeNested = false, nestedCount = 0, ch;
+    while (ch = stream.next()) {
+      if (ch == ")" && maybeEnd) {
+        if(nestedCount > 0)
+          nestedCount--;
+        else {
+          popStateStack(state);
+          break;
+        }
+      }
+      else if(ch == ":" && maybeNested) {
+        nestedCount++;
+      }
+      maybeEnd = (ch == ":");
+      maybeNested = (ch == "(");
+    }
+
+    return ret("comment", "comment");
+  }
+
+  // tokenizer for string literals
+  // optionally pass a tokenizer function to set state.tokenize back to when finished
+  function tokenString(quote, f) {
+    return function(stream, state) {
+      var ch;
+
+      if(isInString(state) && stream.current() == quote) {
+        popStateStack(state);
+        if(f) state.tokenize = f;
+        return ret("string", "string");
+      }
+
+      pushStateStack(state, { type: "string", name: quote, tokenize: tokenString(quote, f) });
+
+      // if we're in a string and in an XML block, allow an embedded code block
+      if(stream.match("{", false) && isInXmlAttributeBlock(state)) {
+        state.tokenize = tokenBase;
+        return ret("string", "string");
+      }
+
+
+      while (ch = stream.next()) {
+        if (ch ==  quote) {
+          popStateStack(state);
+          if(f) state.tokenize = f;
+          break;
+        }
+        else {
+          // if we're in a string and in an XML block, allow an embedded code block in an attribute
+          if(stream.match("{", false) && isInXmlAttributeBlock(state)) {
+            state.tokenize = tokenBase;
+            return ret("string", "string");
+          }
+
+        }
+      }
+
+      return ret("string", "string");
+    };
+  }
+
+  // tokenizer for variables
+  function tokenVariable(stream, state) {
+    var isVariableChar = /[\w\$_-]/;
+
+    // a variable may start with a quoted EQName so if the next character is quote, consume to the next quote
+    if(stream.eat("\"")) {
+      while(stream.next() !== '\"'){};
+      stream.eat(":");
+    } else {
+      stream.eatWhile(isVariableChar);
+      if(!stream.match(":=", false)) stream.eat(":");
+    }
+    stream.eatWhile(isVariableChar);
+    state.tokenize = tokenBase;
+    return ret("variable", "variable");
+  }
+
+  // tokenizer for XML tags
+  function tokenTag(name, isclose) {
+    return function(stream, state) {
+      stream.eatSpace();
+      if(isclose && stream.eat(">")) {
+        popStateStack(state);
+        state.tokenize = tokenBase;
+        return ret("tag", "tag");
+      }
+      // self closing tag without attributes?
+      if(!stream.eat("/"))
+        pushStateStack(state, { type: "tag", name: name, tokenize: tokenBase});
+      if(!stream.eat(">")) {
+        state.tokenize = tokenAttribute;
+        return ret("tag", "tag");
+      }
+      else {
+        state.tokenize = tokenBase;
+      }
+      return ret("tag", "tag");
+    };
+  }
+
+  // tokenizer for XML attributes
+  function tokenAttribute(stream, state) {
+    var ch = stream.next();
+
+    if(ch == "/" && stream.eat(">")) {
+      if(isInXmlAttributeBlock(state)) popStateStack(state);
+      if(isInXmlBlock(state)) popStateStack(state);
+      return ret("tag", "tag");
+    }
+    if(ch == ">") {
+      if(isInXmlAttributeBlock(state)) popStateStack(state);
+      return ret("tag", "tag");
+    }
+    if(ch == "=")
+      return ret("", null);
+    // quoted string
+    if (ch == '"' || ch == "'")
+      return chain(stream, state, tokenString(ch, tokenAttribute));
+
+    if(!isInXmlAttributeBlock(state))
+      pushStateStack(state, { type: "attribute", tokenize: tokenAttribute});
+
+    stream.eat(/[a-zA-Z_:]/);
+    stream.eatWhile(/[-a-zA-Z0-9_:.]/);
+    stream.eatSpace();
+
+    // the case where the attribute has not value and the tag was closed
+    if(stream.match(">", false) || stream.match("/", false)) {
+      popStateStack(state);
+      state.tokenize = tokenBase;
+    }
+
+    return ret("attribute", "attribute");
+  }
+
+  // handle comments, including nested
+  function tokenXMLComment(stream, state) {
+    var ch;
+    while (ch = stream.next()) {
+      if (ch == "-" && stream.match("->", true)) {
+        state.tokenize = tokenBase;
+        return ret("comment", "comment");
+      }
+    }
+  }
+
+
+  // handle CDATA
+  function tokenCDATA(stream, state) {
+    var ch;
+    while (ch = stream.next()) {
+      if (ch == "]" && stream.match("]", true)) {
+        state.tokenize = tokenBase;
+        return ret("comment", "comment");
+      }
+    }
+  }
+
+  // handle preprocessing instructions
+  function tokenPreProcessing(stream, state) {
+    var ch;
+    while (ch = stream.next()) {
+      if (ch == "?" && stream.match(">", true)) {
+        state.tokenize = tokenBase;
+        return ret("comment", "comment meta");
+      }
+    }
+  }
+
+
+  // functions to test the current context of the state
+  function isInXmlBlock(state) { return isIn(state, "tag"); }
+  function isInXmlAttributeBlock(state) { return isIn(state, "attribute"); }
+  function isInXmlConstructor(state) { return isIn(state, "xmlconstructor"); }
+  function isInString(state) { return isIn(state, "string"); }
+
+  function isEQNameAhead(stream) {
+    // assume we've already eaten a quote (")
+    if(stream.current() === '"')
+      return stream.match(/^[^\"]+\"\:/, false);
+    else if(stream.current() === '\'')
+      return stream.match(/^[^\"]+\'\:/, false);
+    else
+      return false;
+  }
+
+  function isIn(state, type) {
+    return (state.stack.length && state.stack[state.stack.length - 1].type == type);
+  }
+
+  function pushStateStack(state, newState) {
+    state.stack.push(newState);
+  }
+
+  function popStateStack(state) {
+    state.stack.pop();
+    var reinstateTokenize = state.stack.length && state.stack[state.stack.length-1].tokenize;
+    state.tokenize = reinstateTokenize || tokenBase;
+  }
+
+  // the interface for the mode API
+  return {
+    startState: function() {
+      return {
+        tokenize: tokenBase,
+        cc: [],
+        stack: []
+      };
+    },
+
+    token: function(stream, state) {
+      if (stream.eatSpace()) return null;
+      var style = state.tokenize(stream, state);
+      return style;
+    },
+
+    blockCommentStart: "(:",
+    blockCommentEnd: ":)"
+
+  };
+
+});
+
+CodeMirror.defineMIME("application/xquery", "xquery");
+
+});
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/yaml/index.html b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/yaml/index.html
new file mode 100644
index 0000000000000000000000000000000000000000..be9b632368ffcf747ed4d50238dc514316183ebe
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/yaml/index.html
@@ -0,0 +1,80 @@
+<!doctype html>
+
+<title>CodeMirror: YAML mode</title>
+<meta charset="utf-8"/>
+<link rel=stylesheet href="../../doc/docs.css">
+
+<link rel="stylesheet" href="../../lib/codemirror.css">
+<script src="../../lib/codemirror.js"></script>
+<script src="yaml.js"></script>
+<style>.CodeMirror { border-top: 1px solid #ddd; border-bottom: 1px solid #ddd; }</style>
+<div id=nav>
+  <a href="http://codemirror.net"><h1>CodeMirror</h1><img id=logo src="../../doc/logo.png"></a>
+
+  <ul>
+    <li><a href="../../index.html">Home</a>
+    <li><a href="../../doc/manual.html">Manual</a>
+    <li><a href="https://github.com/codemirror/codemirror">Code</a>
+  </ul>
+  <ul>
+    <li><a href="../index.html">Language modes</a>
+    <li><a class=active href="#">YAML</a>
+  </ul>
+</div>
+
+<article>
+<h2>YAML mode</h2>
+<form><textarea id="code" name="code">
+--- # Favorite movies
+- Casablanca
+- North by Northwest
+- The Man Who Wasn't There
+--- # Shopping list
+[milk, pumpkin pie, eggs, juice]
+--- # Indented Blocks, common in YAML data files, use indentation and new lines to separate the key: value pairs
+  name: John Smith
+  age: 33
+--- # Inline Blocks, common in YAML data streams, use commas to separate the key: value pairs between braces
+{name: John Smith, age: 33}
+---
+receipt:     Oz-Ware Purchase Invoice
+date:        2007-08-06
+customer:
+    given:   Dorothy
+    family:  Gale
+
+items:
+    - part_no:   A4786
+      descrip:   Water Bucket (Filled)
+      price:     1.47
+      quantity:  4
+
+    - part_no:   E1628
+      descrip:   High Heeled "Ruby" Slippers
+      size:       8
+      price:     100.27
+      quantity:  1
+
+bill-to:  &id001
+    street: |
+            123 Tornado Alley
+            Suite 16
+    city:   East Centerville
+    state:  KS
+
+ship-to:  *id001
+
+specialDelivery:  >
+    Follow the Yellow Brick
+    Road to the Emerald City.
+    Pay no attention to the
+    man behind the curtain.
+...
+</textarea></form>
+    <script>
+      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {});
+    </script>
+
+    <p><strong>MIME types defined:</strong> <code>text/x-yaml</code>.</p>
+
+  </article>
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/yaml/yaml.js b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/yaml/yaml.js
new file mode 100644
index 0000000000000000000000000000000000000000..b7015e599cb3f4ed6e43adf2976560d571d03d79
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/yaml/yaml.js
@@ -0,0 +1,117 @@
+// CodeMirror, copyright (c) by Marijn Haverbeke and others
+// Distributed under an MIT license: http://codemirror.net/LICENSE
+
+(function(mod) {
+  if (typeof exports == "object" && typeof module == "object") // CommonJS
+    mod(require("../../lib/codemirror"));
+  else if (typeof define == "function" && define.amd) // AMD
+    define(["../../lib/codemirror"], mod);
+  else // Plain browser env
+    mod(CodeMirror);
+})(function(CodeMirror) {
+"use strict";
+
+CodeMirror.defineMode("yaml", function() {
+
+  var cons = ['true', 'false', 'on', 'off', 'yes', 'no'];
+  var keywordRegex = new RegExp("\\b(("+cons.join(")|(")+"))$", 'i');
+
+  return {
+    token: function(stream, state) {
+      var ch = stream.peek();
+      var esc = state.escaped;
+      state.escaped = false;
+      /* comments */
+      if (ch == "#" && (stream.pos == 0 || /\s/.test(stream.string.charAt(stream.pos - 1)))) {
+        stream.skipToEnd();
+        return "comment";
+      }
+
+      if (stream.match(/^('([^']|\\.)*'?|"([^"]|\\.)*"?)/))
+        return "string";
+
+      if (state.literal && stream.indentation() > state.keyCol) {
+        stream.skipToEnd(); return "string";
+      } else if (state.literal) { state.literal = false; }
+      if (stream.sol()) {
+        state.keyCol = 0;
+        state.pair = false;
+        state.pairStart = false;
+        /* document start */
+        if(stream.match(/---/)) { return "def"; }
+        /* document end */
+        if (stream.match(/\.\.\./)) { return "def"; }
+        /* array list item */
+        if (stream.match(/\s*-\s+/)) { return 'meta'; }
+      }
+      /* inline pairs/lists */
+      if (stream.match(/^(\{|\}|\[|\])/)) {
+        if (ch == '{')
+          state.inlinePairs++;
+        else if (ch == '}')
+          state.inlinePairs--;
+        else if (ch == '[')
+          state.inlineList++;
+        else
+          state.inlineList--;
+        return 'meta';
+      }
+
+      /* list seperator */
+      if (state.inlineList > 0 && !esc && ch == ',') {
+        stream.next();
+        return 'meta';
+      }
+      /* pairs seperator */
+      if (state.inlinePairs > 0 && !esc && ch == ',') {
+        state.keyCol = 0;
+        state.pair = false;
+        state.pairStart = false;
+        stream.next();
+        return 'meta';
+      }
+
+      /* start of value of a pair */
+      if (state.pairStart) {
+        /* block literals */
+        if (stream.match(/^\s*(\||\>)\s*/)) { state.literal = true; return 'meta'; };
+        /* references */
+        if (stream.match(/^\s*(\&|\*)[a-z0-9\._-]+\b/i)) { return 'variable-2'; }
+        /* numbers */
+        if (state.inlinePairs == 0 && stream.match(/^\s*-?[0-9\.\,]+\s?$/)) { return 'number'; }
+        if (state.inlinePairs > 0 && stream.match(/^\s*-?[0-9\.\,]+\s?(?=(,|}))/)) { return 'number'; }
+        /* keywords */
+        if (stream.match(keywordRegex)) { return 'keyword'; }
+      }
+
+      /* pairs (associative arrays) -> key */
+      if (!state.pair && stream.match(/^\s*(?:[,\[\]{}&*!|>'"%@`][^\s'":]|[^,\[\]{}#&*!|>'"%@`])[^#]*?(?=\s*:($|\s))/)) {
+        state.pair = true;
+        state.keyCol = stream.indentation();
+        return "atom";
+      }
+      if (state.pair && stream.match(/^:\s*/)) { state.pairStart = true; return 'meta'; }
+
+      /* nothing found, continue */
+      state.pairStart = false;
+      state.escaped = (ch == '\\');
+      stream.next();
+      return null;
+    },
+    startState: function() {
+      return {
+        pair: false,
+        pairStart: false,
+        keyCol: 0,
+        inlinePairs: 0,
+        inlineList: 0,
+        literal: false,
+        escaped: false
+      };
+    }
+  };
+});
+
+CodeMirror.defineMIME("text/x-yaml", "yaml");
+
+});
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/z80/index.html b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/z80/index.html
new file mode 100644
index 0000000000000000000000000000000000000000..1ad3ace04635b82d5959676d6cafe595efcfc300
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/z80/index.html
@@ -0,0 +1,52 @@
+<!doctype html>
+
+<title>CodeMirror: Z80 assembly mode</title>
+<meta charset="utf-8"/>
+<link rel=stylesheet href="../../doc/docs.css">
+
+<link rel="stylesheet" href="../../lib/codemirror.css">
+<script src="../../lib/codemirror.js"></script>
+<script src="z80.js"></script>
+<style type="text/css">.CodeMirror {border-top: 1px solid black; border-bottom: 1px solid black;}</style>
+<div id=nav>
+  <a href="http://codemirror.net"><h1>CodeMirror</h1><img id=logo src="../../doc/logo.png"></a>
+
+  <ul>
+    <li><a href="../../index.html">Home</a>
+    <li><a href="../../doc/manual.html">Manual</a>
+    <li><a href="https://github.com/codemirror/codemirror">Code</a>
+  </ul>
+  <ul>
+    <li><a href="../index.html">Language modes</a>
+    <li><a class=active href="#">Z80 assembly</a>
+  </ul>
+</div>
+
+<article>
+<h2>Z80 assembly mode</h2>
+
+
+<div><textarea id="code" name="code">
+#include    "ti83plus.inc"
+#define     progStart   $9D95
+.org        progStart-2
+.db         $BB,$6D
+    bcall(_ClrLCDFull)
+    ld  HL, 0
+    ld  (PenCol),   HL
+    ld  HL, Message
+    bcall(_PutS) ; Displays the string
+    bcall(_NewLine)
+    ret
+Message:
+.db         "Hello world!",0
+</textarea></div>
+
+    <script>
+      var editor = CodeMirror.fromTextArea(document.getElementById("code"), {
+        lineNumbers: true
+      });
+    </script>
+
+    <p><strong>MIME type defined:</strong> <code>text/x-z80</code>.</p>
+  </article>
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/z80/z80.js b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/z80/z80.js
new file mode 100644
index 0000000000000000000000000000000000000000..ec41d050ac8f93aedea01c35e487b9234c6be5f6
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/codemirror/mode/z80/z80.js
@@ -0,0 +1,100 @@
+// CodeMirror, copyright (c) by Marijn Haverbeke and others
+// Distributed under an MIT license: http://codemirror.net/LICENSE
+
+(function(mod) {
+  if (typeof exports == "object" && typeof module == "object") // CommonJS
+    mod(require("../../lib/codemirror"));
+  else if (typeof define == "function" && define.amd) // AMD
+    define(["../../lib/codemirror"], mod);
+  else // Plain browser env
+    mod(CodeMirror);
+})(function(CodeMirror) {
+"use strict";
+
+CodeMirror.defineMode('z80', function() {
+  var keywords1 = /^(exx?|(ld|cp|in)([di]r?)?|pop|push|ad[cd]|cpl|daa|dec|inc|neg|sbc|sub|and|bit|[cs]cf|x?or|res|set|r[lr]c?a?|r[lr]d|s[lr]a|srl|djnz|nop|rst|[de]i|halt|im|ot[di]r|out[di]?)\b/i;
+  var keywords2 = /^(call|j[pr]|ret[in]?)\b/i;
+  var keywords3 = /^b_?(call|jump)\b/i;
+  var variables1 = /^(af?|bc?|c|de?|e|hl?|l|i[xy]?|r|sp)\b/i;
+  var variables2 = /^(n?[zc]|p[oe]?|m)\b/i;
+  var errors = /^([hl][xy]|i[xy][hl]|slia|sll)\b/i;
+  var numbers = /^([\da-f]+h|[0-7]+o|[01]+b|\d+)\b/i;
+
+  return {
+    startState: function() {
+      return {context: 0};
+    },
+    token: function(stream, state) {
+      if (!stream.column())
+        state.context = 0;
+
+      if (stream.eatSpace())
+        return null;
+
+      var w;
+
+      if (stream.eatWhile(/\w/)) {
+        w = stream.current();
+
+        if (stream.indentation()) {
+          if (state.context == 1 && variables1.test(w))
+            return 'variable-2';
+
+          if (state.context == 2 && variables2.test(w))
+            return 'variable-3';
+
+          if (keywords1.test(w)) {
+            state.context = 1;
+            return 'keyword';
+          } else if (keywords2.test(w)) {
+            state.context = 2;
+            return 'keyword';
+          } else if (keywords3.test(w)) {
+            state.context = 3;
+            return 'keyword';
+          }
+
+          if (errors.test(w))
+            return 'error';
+        } else if (numbers.test(w)) {
+          return 'number';
+        } else {
+          return null;
+        }
+      } else if (stream.eat(';')) {
+        stream.skipToEnd();
+        return 'comment';
+      } else if (stream.eat('"')) {
+        while (w = stream.next()) {
+          if (w == '"')
+            break;
+
+          if (w == '\\')
+            stream.next();
+        }
+        return 'string';
+      } else if (stream.eat('\'')) {
+        if (stream.match(/\\?.'/))
+          return 'number';
+      } else if (stream.eat('.') || stream.sol() && stream.eat('#')) {
+        state.context = 4;
+
+        if (stream.eatWhile(/\w/))
+          return 'def';
+      } else if (stream.eat('$')) {
+        if (stream.eatWhile(/[\da-f]/i))
+          return 'number';
+      } else if (stream.eat('%')) {
+        if (stream.eatWhile(/[01]/))
+          return 'number';
+      } else {
+        stream.next();
+      }
+      return null;
+    }
+  };
+});
+
+CodeMirror.defineMIME("text/x-z80", "z80");
+
+});
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/colorpicker/bootstrap-colorpicker.min.js b/qj-official-web/src/main/webapp/static/js/plugins/colorpicker/bootstrap-colorpicker.min.js
new file mode 100644
index 0000000000000000000000000000000000000000..5537fa250876cb19bae2ac022978da7eb076afff
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/colorpicker/bootstrap-colorpicker.min.js
@@ -0,0 +1 @@
+!function(a){"use strict";"function"==typeof define&&define.amd?define(["jquery"],a):window.jQuery&&!window.jQuery.fn.colorpicker&&a(window.jQuery)}(function(a){"use strict";var b=function(a){this.value={h:0,s:0,b:0,a:1},this.origFormat=null,a&&(void 0!==a.toLowerCase?this.setColor(a):void 0!==a.h&&(this.value=a))};b.prototype={constructor:b,colors:{aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4","indianred ":"#cd5c5c","indigo ":"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},_sanitizeNumber:function(a){return"number"==typeof a?a:isNaN(a)||null===a||""===a||void 0===a?1:void 0!==a.toLowerCase?parseFloat(a):1},setColor:function(a){a=a.toLowerCase(),this.value=this.stringToHSB(a)||{h:0,s:0,b:0,a:1}},stringToHSB:function(b){b=b.toLowerCase();var c=this,d=!1;return a.each(this.stringParsers,function(a,e){var f=e.re.exec(b),g=f&&e.parse.apply(c,[f]),h=e.format||"rgba";return g?(d=h.match(/hsla?/)?c.RGBtoHSB.apply(c,c.HSLtoRGB.apply(c,g)):c.RGBtoHSB.apply(c,g),c.origFormat=h,!1):!0}),d},setHue:function(a){this.value.h=1-a},setSaturation:function(a){this.value.s=a},setBrightness:function(a){this.value.b=1-a},setAlpha:function(a){this.value.a=parseInt(100*(1-a),10)/100},toRGB:function(a,b,c,d){a||(a=this.value.h,b=this.value.s,c=this.value.b),a*=360;var e,f,g,h,i;return a=a%360/60,i=c*b,h=i*(1-Math.abs(a%2-1)),e=f=g=c-i,a=~~a,e+=[i,h,0,0,h,i][a],f+=[h,i,i,h,0,0][a],g+=[0,0,h,i,i,h][a],{r:Math.round(255*e),g:Math.round(255*f),b:Math.round(255*g),a:d||this.value.a}},toHex:function(a,b,c,d){var e=this.toRGB(a,b,c,d);return"#"+(1<<24|parseInt(e.r)<<16|parseInt(e.g)<<8|parseInt(e.b)).toString(16).substr(1)},toHSL:function(a,b,c,d){a=a||this.value.h,b=b||this.value.s,c=c||this.value.b,d=d||this.value.a;var e=a,f=(2-b)*c,g=b*c;return g/=f>0&&1>=f?f:2-f,f/=2,g>1&&(g=1),{h:isNaN(e)?0:e,s:isNaN(g)?0:g,l:isNaN(f)?0:f,a:isNaN(d)?0:d}},toAlias:function(a,b,c,d){var e=this.toHex(a,b,c,d);for(var f in this.colors)if(this.colors[f]==e)return f;return!1},RGBtoHSB:function(a,b,c,d){a/=255,b/=255,c/=255;var e,f,g,h;return g=Math.max(a,b,c),h=g-Math.min(a,b,c),e=0===h?null:g===a?(b-c)/h:g===b?(c-a)/h+2:(a-b)/h+4,e=(e+360)%6*60/360,f=0===h?0:h/g,{h:this._sanitizeNumber(e),s:f,b:g,a:this._sanitizeNumber(d)}},HueToRGB:function(a,b,c){return 0>c?c+=1:c>1&&(c-=1),1>6*c?a+(b-a)*c*6:1>2*c?b:2>3*c?a+(b-a)*(2/3-c)*6:a},HSLtoRGB:function(a,b,c,d){0>b&&(b=0);var e;e=.5>=c?c*(1+b):c+b-c*b;var f=2*c-e,g=a+1/3,h=a,i=a-1/3,j=Math.round(255*this.HueToRGB(f,e,g)),k=Math.round(255*this.HueToRGB(f,e,h)),l=Math.round(255*this.HueToRGB(f,e,i));return[j,k,l,this._sanitizeNumber(d)]},toString:function(a){switch(a=a||"rgba"){case"rgb":var b=this.toRGB();return"rgb("+b.r+","+b.g+","+b.b+")";case"rgba":var b=this.toRGB();return"rgba("+b.r+","+b.g+","+b.b+","+b.a+")";case"hsl":var c=this.toHSL();return"hsl("+Math.round(360*c.h)+","+Math.round(100*c.s)+"%,"+Math.round(100*c.l)+"%)";case"hsla":var c=this.toHSL();return"hsla("+Math.round(360*c.h)+","+Math.round(100*c.s)+"%,"+Math.round(100*c.l)+"%,"+c.a+")";case"hex":return this.toHex();case"alias":return this.toAlias()||this.toHex();default:return!1}},stringParsers:[{re:/#([a-fA-F0-9]{2})([a-fA-F0-9]{2})([a-fA-F0-9]{2})/,format:"hex",parse:function(a){return[parseInt(a[1],16),parseInt(a[2],16),parseInt(a[3],16),1]}},{re:/#([a-fA-F0-9])([a-fA-F0-9])([a-fA-F0-9])/,format:"hex",parse:function(a){return[parseInt(a[1]+a[1],16),parseInt(a[2]+a[2],16),parseInt(a[3]+a[3],16),1]}},{re:/rgb\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*?\)/,format:"rgb",parse:function(a){return[a[1],a[2],a[3],1]}},{re:/rgb\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"rgb",parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],1]}},{re:/rgba\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(a){return[a[1],a[2],a[3],a[4]]}},{re:/rgba\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"rgba",parse:function(a){return[2.55*a[1],2.55*a[2],2.55*a[3],a[4]]}},{re:/hsl\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*?\)/,format:"hsl",parse:function(a){return[a[1]/360,a[2]/100,a[3]/100,a[4]]}},{re:/hsla\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d+(?:\.\d+)?)\s*)?\)/,format:"hsla",parse:function(a){return[a[1]/360,a[2]/100,a[3]/100,a[4]]}},{re:/^([a-z]{3,})$/,format:"alias",parse:function(a){var b=this.colorNameToHex(a[0])||"#000000",c=this.stringParsers[0].re.exec(b),d=c&&this.stringParsers[0].parse.apply(this,[c]);return d}}],colorNameToHex:function(a){return"undefined"!=typeof this.colors[a.toLowerCase()]?this.colors[a.toLowerCase()]:!1}};var c={horizontal:!1,inline:!1,color:!1,format:!1,input:"input",container:!1,component:".add-on, .input-group-addon",sliders:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setHue"},alpha:{maxLeft:0,maxTop:100,callLeft:!1,callTop:"setAlpha"}},slidersHorz:{saturation:{maxLeft:100,maxTop:100,callLeft:"setSaturation",callTop:"setBrightness"},hue:{maxLeft:100,maxTop:0,callLeft:"setHue",callTop:!1},alpha:{maxLeft:100,maxTop:0,callLeft:"setAlpha",callTop:!1}},template:'<div class="colorpicker dropdown-menu"><div class="colorpicker-saturation"><i><b></b></i></div><div class="colorpicker-hue"><i></i></div><div class="colorpicker-alpha"><i></i></div><div class="colorpicker-color"><div /></div></div>'},d=function(d,e){this.element=a(d).addClass("colorpicker-element"),this.options=a.extend({},c,this.element.data(),e),this.component=this.options.component,this.component=this.component!==!1?this.element.find(this.component):!1,this.component&&0===this.component.length&&(this.component=!1),this.container=this.options.container===!0?this.element:this.options.container,this.container=this.container!==!1?a(this.container):!1,this.input=this.element.is("input")?this.element:this.options.input?this.element.find(this.options.input):!1,this.input&&0===this.input.length&&(this.input=!1),this.color=new b(this.options.color!==!1?this.options.color:this.getValue()),this.format=this.options.format!==!1?this.options.format:this.color.origFormat,this.picker=a(this.options.template),this.picker.addClass(this.options.inline?"colorpicker-inline colorpicker-visible":"colorpicker-hidden"),this.options.horizontal&&this.picker.addClass("colorpicker-horizontal"),("rgba"===this.format||"hsla"===this.format)&&this.picker.addClass("colorpicker-with-alpha"),this.picker.on("mousedown.colorpicker",a.proxy(this.mousedown,this)),this.picker.appendTo(this.container?this.container:a("body")),this.input!==!1&&(this.input.on({"keyup.colorpicker":a.proxy(this.keyup,this)}),this.component===!1&&this.element.on({"focus.colorpicker":a.proxy(this.show,this)}),this.options.inline===!1&&this.element.on({"focusout.colorpicker":a.proxy(this.hide,this)})),this.component!==!1&&this.component.on({"click.colorpicker":a.proxy(this.show,this)}),this.input===!1&&this.component===!1&&this.element.on({"click.colorpicker":a.proxy(this.show,this)}),this.update(),a(a.proxy(function(){this.element.trigger("create")},this))};d.version="2.0.0-beta",d.Color=b,d.prototype={constructor:d,destroy:function(){this.picker.remove(),this.element.removeData("colorpicker").off(".colorpicker"),this.input!==!1&&this.input.off(".colorpicker"),this.component!==!1&&this.component.off(".colorpicker"),this.element.removeClass("colorpicker-element"),this.element.trigger({type:"destroy"})},reposition:function(){if(this.options.inline!==!1)return!1;var a=this.container&&this.container[0]!==document.body?"position":"offset",b=this.component?this.component[a]():this.element[a]();this.picker.css({top:b.top+(this.component?this.component.outerHeight():this.element.outerHeight()),left:b.left})},show:function(b){return this.isDisabled()?!1:(this.picker.addClass("colorpicker-visible").removeClass("colorpicker-hidden"),this.reposition(),a(window).on("resize.colorpicker",a.proxy(this.reposition,this)),!this.hasInput()&&b&&b.stopPropagation&&b.preventDefault&&(b.stopPropagation(),b.preventDefault()),this.options.inline===!1&&a(window.document).on({"mousedown.colorpicker":a.proxy(this.hide,this)}),void this.element.trigger({type:"showPicker",color:this.color}))},hide:function(){this.picker.addClass("colorpicker-hidden").removeClass("colorpicker-visible"),a(window).off("resize.colorpicker",this.reposition),a(document).off({"mousedown.colorpicker":this.hide}),this.update(),this.element.trigger({type:"hidePicker",color:this.color})},updateData:function(a){return a=a||this.color.toString(this.format),this.element.data("color",a),a},updateInput:function(a){return a=a||this.color.toString(this.format),this.input!==!1&&this.input.prop("value",a),a},updatePicker:function(a){void 0!==a&&(this.color=new b(a));var c=this.options.horizontal===!1?this.options.sliders:this.options.slidersHorz,d=this.picker.find("i");return 0!==d.length?(this.options.horizontal===!1?(c=this.options.sliders,d.eq(1).css("top",c.hue.maxTop*(1-this.color.value.h)).end().eq(2).css("top",c.alpha.maxTop*(1-this.color.value.a))):(c=this.options.slidersHorz,d.eq(1).css("left",c.hue.maxLeft*(1-this.color.value.h)).end().eq(2).css("left",c.alpha.maxLeft*(1-this.color.value.a))),d.eq(0).css({top:c.saturation.maxTop-this.color.value.b*c.saturation.maxTop,left:this.color.value.s*c.saturation.maxLeft}),this.picker.find(".colorpicker-saturation").css("backgroundColor",this.color.toHex(this.color.value.h,1,1,1)),this.picker.find(".colorpicker-alpha").css("backgroundColor",this.color.toHex()),this.picker.find(".colorpicker-color, .colorpicker-color div").css("backgroundColor",this.color.toString(this.format)),a):void 0},updateComponent:function(a){if(a=a||this.color.toString(this.format),this.component!==!1){var b=this.component.find("i").eq(0);b.length>0?b.css({backgroundColor:a}):this.component.css({backgroundColor:a})}return a},update:function(a){var b=this.updateComponent();return(this.getValue(!1)!==!1||a===!0)&&(this.updateInput(b),this.updateData(b)),this.updatePicker(),b},setValue:function(a){this.color=new b(a),this.update(),this.element.trigger({type:"changeColor",color:this.color,value:a})},getValue:function(a){a=void 0===a?"#000000":a;var b;return b=this.hasInput()?this.input.val():this.element.data("color"),(void 0===b||""===b||null===b)&&(b=a),b},hasInput:function(){return this.input!==!1},isDisabled:function(){return this.hasInput()?this.input.prop("disabled")===!0:!1},disable:function(){return this.hasInput()?(this.input.prop("disabled",!0),!0):!1},enable:function(){return this.hasInput()?(this.input.prop("disabled",!1),!0):!1},currentSlider:null,mousePointer:{left:0,top:0},mousedown:function(b){b.stopPropagation(),b.preventDefault();var c=a(b.target),d=c.closest("div"),e=this.options.horizontal?this.options.slidersHorz:this.options.sliders;if(!d.is(".colorpicker")){if(d.is(".colorpicker-saturation"))this.currentSlider=a.extend({},e.saturation);else if(d.is(".colorpicker-hue"))this.currentSlider=a.extend({},e.hue);else{if(!d.is(".colorpicker-alpha"))return!1;this.currentSlider=a.extend({},e.alpha)}var f=d.offset();this.currentSlider.guide=d.find("i")[0].style,this.currentSlider.left=b.pageX-f.left,this.currentSlider.top=b.pageY-f.top,this.mousePointer={left:b.pageX,top:b.pageY},a(document).on({"mousemove.colorpicker":a.proxy(this.mousemove,this),"mouseup.colorpicker":a.proxy(this.mouseup,this)}).trigger("mousemove")}return!1},mousemove:function(a){a.stopPropagation(),a.preventDefault();var b=Math.max(0,Math.min(this.currentSlider.maxLeft,this.currentSlider.left+((a.pageX||this.mousePointer.left)-this.mousePointer.left))),c=Math.max(0,Math.min(this.currentSlider.maxTop,this.currentSlider.top+((a.pageY||this.mousePointer.top)-this.mousePointer.top)));return this.currentSlider.guide.left=b+"px",this.currentSlider.guide.top=c+"px",this.currentSlider.callLeft&&this.color[this.currentSlider.callLeft].call(this.color,b/100),this.currentSlider.callTop&&this.color[this.currentSlider.callTop].call(this.color,c/100),this.update(!0),this.element.trigger({type:"changeColor",color:this.color}),!1},mouseup:function(b){return b.stopPropagation(),b.preventDefault(),a(document).off({"mousemove.colorpicker":this.mousemove,"mouseup.colorpicker":this.mouseup}),!1},keyup:function(a){if(38===a.keyCode)this.color.value.a<1&&(this.color.value.a=Math.round(100*(this.color.value.a+.01))/100),this.update(!0);else if(40===a.keyCode)this.color.value.a>0&&(this.color.value.a=Math.round(100*(this.color.value.a-.01))/100),this.update(!0);else{var c=this.input.val();this.color=new b(c),this.getValue(!1)!==!1&&(this.updateData(),this.updateComponent(),this.updatePicker())}this.element.trigger({type:"changeColor",color:this.color,value:c})}},a.colorpicker=d,a.fn.colorpicker=function(b){var c=arguments;return this.each(function(){var e=a(this),f=e.data("colorpicker"),g="object"==typeof b?b:{};f||"string"==typeof b?"string"==typeof b&&f[b].apply(f,Array.prototype.slice.call(c,1)):e.data("colorpicker",new d(this,g))})},a.fn.colorpicker.constructor=d});
diff --git a/qj-official-web/src/main/webapp/static/js/plugins/cropper/cropper.min.js b/qj-official-web/src/main/webapp/static/js/plugins/cropper/cropper.min.js
new file mode 100644
index 0000000000000000000000000000000000000000..ebb29bbf427885fb96358687e9be54d2f7f36548
--- /dev/null
+++ b/qj-official-web/src/main/webapp/static/js/plugins/cropper/cropper.min.js
@@ -0,0 +1,9 @@
+/*!
+ * Cropper v0.7.6-beta
+ * https://github.com/fengyuanchen/cropper
+ *
+ * Copyright 2014 Fengyuan Chen
+ * Released under the MIT license
+ */
+
+!function(a){"function"==typeof define&&define.amd?define(["jquery"],a):a("object"==typeof exports?require("jquery"):jQuery)}(function(a){"use strict";var b=a(window),c=a(document),d=window.location,e=!0,f=!1,g=null,h=0/0,i=1/0,j="undefined",k="directive",l=".cropper",m=/^(e|n|w|s|ne|nw|sw|se|all|crop|move|zoom)$/,n=/^(x|y|width|height)$/,o=/^(naturalWidth|naturalHeight|width|height|aspectRatio|ratio|rotate)$/,p="cropper-modal",q="cropper-hidden",r="cropper-invisible",s="cropper-move",t="cropper-crop",u="cropper-disabled",v="mousedown touchstart",w="mousemove touchmove",x="mouseup mouseleave touchend touchleave touchcancel",y="wheel mousewheel DOMMouseScroll",z="resize"+l,A="dblclick",B="build"+l,C="built"+l,D="dragstart"+l,E="dragmove"+l,F="dragend"+l,G=function(a){return"number"==typeof a},H=function(b,c){this.element=b,this.$element=a(b),this.defaults=a.extend({},H.DEFAULTS,a.isPlainObject(c)?c:{}),this.$original=g,this.ready=f,this.built=f,this.cropped=f,this.rotated=f,this.disabled=f,this.replaced=f,this.init()},I=Math.round,J=Math.sqrt,K=Math.min,L=Math.max,M=Math.abs,N=Math.sin,O=Math.cos,P=parseFloat;H.prototype={constructor:H,support:{canvas:a.isFunction(a("<canvas>")[0].getContext)},init:function(){var b=this.defaults;a.each(b,function(a,c){switch(a){case"aspectRatio":b[a]=M(P(c))||h;break;case"autoCropArea":b[a]=M(P(c))||.8;break;case"minWidth":case"minHeight":b[a]=M(P(c))||0;break;case"maxWidth":case"maxHeight":b[a]=M(P(c))||i}}),this.image={rotate:0},this.load()},load:function(){var b,c,d=this,f=this.$element,g=this.element,h=this.image,i="";f.is("img")?c=f.prop("src"):f.is("canvas")&&this.support.canvas&&(c=g.toDataURL()),c&&(this.replaced&&(h.rotate=0),this.defaults.checkImageOrigin&&(f.prop("crossOrigin")||this.isCrossOriginURL(c))&&(i=" crossOrigin"),this.$clone=b=a("<img"+i+' src="'+c+'">'),b.one("load",function(){h.naturalWidth=this.naturalWidth||b.width(),h.naturalHeight=this.naturalHeight||b.height(),h.aspectRatio=h.naturalWidth/h.naturalHeight,d.url=c,d.ready=e,d.build()}),b.addClass(r).prependTo("body"))},isCrossOriginURL:function(a){var b=a.match(/^(https?:)\/\/([^\:\/\?#]+):?(\d*)/i);return!b||b[1]===d.protocol&&b[2]===d.hostname&&b[3]===d.port?f:e},build:function(){var b,d,f=this.$element,g=this.defaults;this.ready&&(this.built&&this.unbuild(),f.one(B,g.build),b=a.Event(B),f.trigger(b),b.isDefaultPrevented()||(this.$cropper=d=a(H.TEMPLATE),f.addClass(q),this.$clone.removeClass(r).prependTo(d),this.rotated||(this.$original=this.$clone.clone(),this.$original.addClass(q).prependTo(this.$cropper),this.originalImage=a.extend({},this.image)),this.$container=f.parent(),this.$container.append(d),this.$canvas=d.find(".cropper-canvas"),this.$dragger=d.find(".cropper-dragger"),this.$viewer=d.find(".cropper-viewer"),g.autoCrop?this.cropped=e:this.$dragger.addClass(q),g.dragCrop&&this.setDragMode("crop"),g.modal&&this.$canvas.addClass(p),!g.dashed&&this.$dragger.find(".cropper-dashed").addClass(q),!g.movable&&this.$dragger.find(".cropper-face").data(k,"move"),!g.resizable&&this.$dragger.find(".cropper-line, .cropper-point").addClass(q),this.$scope=g.multiple?this.$cropper:c,this.addListeners(),this.initPreview(),this.built=e,this.update(),f.one(C,g.built),f.trigger(C)))},unbuild:function(){this.built&&(this.built=f,this.removeListeners(),this.$preview.empty(),this.$preview=g,this.$dragger=g,this.$canvas=g,this.$container=g,this.$cropper.remove(),this.$cropper=g)},update:function(a){this.initContainer(),this.initCropper(),this.initImage(),this.initDragger(),a?(this.setData(a,e),this.setDragMode("crop")):this.setData(this.defaults.data)},resize:function(){clearTimeout(this.resizing),this.resizing=setTimeout(a.proxy(this.update,this,this.getData()),200)},preview:function(){var b=this.image,c=this.dragger,d=b.width,e=b.height,f=c.left-b.left,g=c.top-b.top;this.$viewer.find("img").css({width:I(d),height:I(e),marginLeft:-I(f),marginTop:-I(g)}),this.$preview.each(function(){var b=a(this),h=b.width()/c.width;b.find("img").css({width:I(d*h),height:I(e*h),marginLeft:-I(f*h),marginTop:-I(g*h)})})},addListeners:function(){var c=this.defaults;this.$element.on(D,c.dragstart).on(E,c.dragmove).on(F,c.dragend),this.$cropper.on(v,this._dragstart=a.proxy(this.dragstart,this)).on(A,this._dblclick=a.proxy(this.dblclick,this)),c.zoomable&&this.$cropper.on(y,this._wheel=a.proxy(this.wheel,this)),this.$scope.on(w,this._dragmove=a.proxy(this.dragmove,this)).on(x,this._dragend=a.proxy(this.dragend,this)),b.on(z,this._resize=a.proxy(this.resize,this))},removeListeners:function(){var a=this.defaults;this.$element.off(D,a.dragstart).off(E,a.dragmove).off(F,a.dragend),this.$cropper.off(v,this._dragstart).off(A,this._dblclick),a.zoomable&&this.$cropper.off(y,this._wheel),this.$scope.off(w,this._dragmove).off(x,this._dragend),b.off(z,this._resize)},initPreview:function(){var b='<img src="'+this.url+'">';this.$preview=a(this.defaults.preview),this.$viewer.html(b),this.$preview.html(b).find("img").css("cssText","min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;")},initContainer:function(){var a=this.$container;this.container={width:L(a.width(),300),height:L(a.height(),150)}},initCropper:function(){var a,b=this.container,c=this.image;c.naturalWidth*b.height/c.naturalHeight-b.width>=0?(a={width:b.width,height:b.width/c.aspectRatio,left:0},a.top=(b.height-a.height)/2):(a={width:b.height*c.aspectRatio,height:b.height,top:0},a.left=(b.width-a.width)/2),this.$cropper.css({width:I(a.width),height:I(a.height),left:I(a.left),top:I(a.top)}),this.cropper=a},initImage:function(){var b=this.image,c=this.cropper,d={_width:c.width,_height:c.height,width:c.width,height:c.height,left:0,top:0,ratio:c.width/b.naturalWidth};this.defaultImage=a.extend({},b,d),b._width!==c.width||b._height!==c.height?a.extend(b,d):(b=a.extend({},d,b),this.replaced&&(this.replaced=f,b.ratio=d.ratio)),this.image=b,this.renderImage()},renderImage:function(a){var b=this.image;"zoom"===a&&(b.left-=(b.width-b.oldWidth)/2,b.top-=(b.height-b.oldHeight)/2),b.left=K(L(b.left,b._width-b.width),0),b.top=K(L(b.top,b._height-b.height),0),this.$clone.css({width:I(b.width),height:I(b.height),marginLeft:I(b.left),marginTop:I(b.top)}),a&&(this.defaults.done(this.getData()),this.preview())},initDragger:function(){var b,c=this.defaults,d=this.cropper,e=c.aspectRatio||this.image.aspectRatio,f=this.image.ratio;b=d.height*e-d.width>=0?{height:d.width/e,width:d.width,left:0,top:(d.height-d.width/e)/2,maxWidth:d.width,maxHeight:d.width/e}:{height:d.height,width:d.height*e,left:(d.width-d.height*e)/2,top:0,maxWidth:d.height*e,maxHeight:d.height},b.minWidth=0,b.minHeight=0,c.aspectRatio?(isFinite(c.maxWidth)?(b.maxWidth=K(b.maxWidth,c.maxWidth*f),b.maxHeight=b.maxWidth/e):isFinite(c.maxHeight)&&(b.maxHeight=K(b.maxHeight,c.maxHeight*f),b.maxWidth=b.maxHeight*e),c.minWidth>0?(b.minWidth=L(0,c.minWidth*f),b.minHeight=b.minWidth/e):c.minHeight>0&&(b.minHeight=L(0,c.minHeight*f),b.minWidth=b.minHeight*e)):(b.maxWidth=K(b.maxWidth,c.maxWidth*f),b.maxHeight=K(b.maxHeight,c.maxHeight*f),b.minWidth=L(0,c.minWidth*f),b.minHeight=L(0,c.minHeight*f)),b.minWidth=K(b.maxWidth,b.minWidth),b.minHeight=K(b.maxHeight,b.minHeight),b.height*=c.autoCropArea,b.width*=c.autoCropArea,b.left=(d.width-b.width)/2,b.top=(d.height-b.height)/2,b.oldLeft=b.left,b.oldTop=b.top,this.defaultDragger=b,this.dragger=a.extend({},b)},renderDragger:function(){var a=this.dragger,b=this.cropper;a.width>a.maxWidth?(a.width=a.maxWidth,a.left=a.oldLeft):a.width<a.minWidth&&(a.width=a.minWidth,a.left=a.oldLeft),a.height>a.maxHeight?(a.height=a.maxHeight,a.top=a.oldTop):a.height<a.minHeight&&(a.height=a.minHeight,a.top=a.oldTop),a.left=K(L(a.left,0),b.width-a.width),a.top=K(L(a.top,0),b.height-a.height),a.oldLeft=a.left,a.oldTop=a.top,this.dragger=a,this.disabled||this.defaults.done(this.getData()),this.$dragger.css({width:I(a.width),height:I(a.height),left:I(a.left),top:I(a.top)}),this.preview()},reset:function(b){this.cropped&&(b&&(this.defaults.data={}),this.image=a.extend({},this.defaultImage),this.renderImage(),this.dragger=a.extend({},this.defaultDragger),this.setData(this.defaults.data))},clear:function(){this.cropped&&(this.cropped=f,this.setData({x:0,y:0,width:0,height:0}),this.$canvas.removeClass(p),this.$dragger.addClass(q))},destroy:function(){var a=this.$element;this.ready&&(this.unbuild(),a.removeClass(q).removeData("cropper"),this.rotated&&a.attr("src",this.$original.attr("src")))},replace:function(b,c){var d,g=this,h=this.$element,i=this.element;b&&b!==this.url&&b!==h.attr("src")&&(c||(this.rotated=f,this.replaced=e),h.is("img")?(h.attr("src",b),this.load()):h.is("canvas")&&this.support.canvas&&(d=i.getContext("2d"),a('<img src="'+b+'">').one("load",function(){i.width=this.width,i.height=this.height,d.clearRect(0,0,i.width,i.height),d.drawImage(this,0,0),g.load()})))},setData:function(b,c){var d=this.cropper,e=this.dragger,f=this.image,h=this.defaults.aspectRatio;this.built&&typeof b!==j&&((b===g||a.isEmptyObject(b))&&(e=a.extend({},this.defaultDragger)),a.isPlainObject(b)&&!a.isEmptyObject(b)&&(c||(this.defaults.data=b),b=this.transformData(b),G(b.x)&&b.x<=d.width-f.left&&(e.left=b.x+f.left),G(b.y)&&b.y<=d.height-f.top&&(e.top=b.y+f.top),h?G(b.width)&&b.width<=e.maxWidth&&b.width>=e.minWidth?(e.width=b.width,e.height=e.width/h):G(b.height)&&b.height<=e.maxHeight&&b.height>=e.minHeight&&(e.height=b.height,e.width=e.height*h):(G(b.width)&&b.width<=e.maxWidth&&b.width>=e.minWidth&&(e.width=b.width),G(b.height)&&b.height<=e.maxHeight&&b.height>=e.minHeight&&(e.height=b.height))),this.dragger=e,this.renderDragger())},getData:function(a){var b=this.dragger,c=this.image,d={};return this.built&&(d={x:b.left-c.left,y:b.top-c.top,width:b.width,height:b.height},d=this.transformData(d,e,a)),d},transformData:function(b,c,d){var e=this.image.ratio,f={};return a.each(b,function(a,b){b=P(b),n.test(a)&&!isNaN(b)&&(f[a]=c?d?I(b/e):b/e:b*e)}),f},setAspectRatio:function(a){var b="auto"===a;a=P(a),(b||!isNaN(a)&&a>0)&&(this.defaults.aspectRatio=b?h:a,this.built&&(this.initDragger(),this.renderDragger()))},getImageData:function(){var b={};return this.ready&&a.each(this.image,function(a,c){o.test(a)&&(b[a]=c)}),b},getDataURL:function(b,c,d){var e,f=a("<canvas>")[0],g=this.getData(),h="";return a.isPlainObject(b)||(d=c,c=b,b={}),b=a.extend({width:g.width,height:g.height},b),this.cropped&&this.support.canvas&&(f.width=b.width,f.height=b.height,e=f.getContext("2d"),"image/jpeg"===c&&(e.fillStyle="#fff",e.fillRect(0,0,b.width,b.height)),e.drawImage(this.$clone[0],g.x,g.y,g.width,g.height,0,0,b.width,b.height),h=f.toDataURL(c,d)),h},setDragMode:function(a){var b=this.$canvas,c=this.defaults,d=f,g=f;if(this.built&&!this.disabled){switch(a){case"crop":c.dragCrop&&(d=e,b.data(k,a));break;case"move":g=e,b.data(k,a);break;default:b.removeData(k)}b.toggleClass(t,d).toggleClass(s,g)}},enable:function(){this.built&&(this.disabled=f,this.$cropper.removeClass(u))},disable:function(){this.built&&(this.disabled=e,this.$cropper.addClass(u))},rotate:function(a){var b=this.image;a=P(a)||0,this.built&&0!==a&&!this.disabled&&this.defaults.rotatable&&this.support.canvas&&(this.rotated=e,a=b.rotate=(b.rotate+a)%360,this.replace(this.getRotatedDataURL(a),!0))},getRotatedDataURL:function(b){var c=a("<canvas>")[0],d=c.getContext("2d"),e=b*Math.PI/180,f=M(b)%180,g=f>90?180-f:f,h=g*Math.PI/180,i=this.originalImage,j=i.naturalWidth,k=i.naturalHeight,l=M(j*O(h)+k*N(h)),m=M(j*N(h)+k*O(h));return c.width=l,c.height=m,d.save(),d.translate(l/2,m/2),d.rotate(e),d.drawImage(this.$original[0],-j/2,-k/2,j,k),d.restore(),c.toDataURL()},zoom:function(a){var b,c,d,e=this.image;a=P(a),this.built&&a&&!this.disabled&&this.defaults.zoomable&&(b=e.width*(1+a),c=e.height*(1+a),d=b/e._width,d>10||(1>d&&(b=e._width,c=e._height),this.setDragMode(1>=d?"crop":"move"),e.oldWidth=e.width,e.oldHeight=e.height,e.width=b,e.height=c,e.ratio=e.width/e.naturalWidth,this.renderImage("zoom")))},dblclick:function(){this.disabled||this.setDragMode(this.$canvas.hasClass(t)?"move":"crop")},wheel:function(a){var b,c=a.originalEvent,d=117.25,e=5,f=166.66665649414062,g=.1;this.disabled||(a.preventDefault(),c.deltaY?(b=c.deltaY,b=b%e===0?b/e:b%d===0?b/d:b/f):b=c.wheelDelta?-c.wheelDelta/120:c.detail?c.detail/3:0,this.zoom(b*g))},dragstart:function(b){var c,d,g,h=b.originalEvent.touches,i=b;if(!this.disabled){if(h){if(g=h.length,g>1){if(!this.defaults.zoomable||2!==g)return;i=h[1],this.startX2=i.pageX,this.startY2=i.pageY,c="zoom"}i=h[0]}if(c=c||a(i.target).data(k),m.test(c)){if(b.preventDefault(),d=a.Event(D),this.$element.trigger(d),d.isDefaultPrevented())return;this.directive=c,this.cropping=f,this.startX=i.pageX,this.startY=i.pageY,"crop"===c&&(this.cropping=e,this.$canvas.addClass(p))}}},dragmove:function(b){var c,d,e=b.originalEvent.touches,f=b;if(!this.disabled){if(e){if(d=e.length,d>1){if(!this.defaults.zoomable||2!==d)return;f=e[1],this.endX2=f.pageX,this.endY2=f.pageY}f=e[0]}if(this.directive){if(b.preventDefault(),c=a.Event(E),this.$element.trigger(c),c.isDefaultPrevented())return;this.endX=f.pageX,this.endY=f.pageY,this.dragging()}}},dragend:function(b){var c;if(!this.disabled&&this.directive){if(b.preventDefault(),c=a.Event(F),this.$element.trigger(c),c.isDefaultPrevented())return;this.cropping&&(this.cropping=f,this.$canvas.toggleClass(p,this.cropped&&this.defaults.modal)),this.directive=""}},dragging:function(){var a,b=this.directive,c=this.image,d=this.cropper,g=d.width,h=d.height,i=this.dragger,j=i.width,k=i.height,l=i.left,m=i.top,n=l+j,o=m+k,p=e,r=this.defaults,s=r.aspectRatio,t={x:this.endX-this.startX,y:this.endY-this.startY};switch(s&&(t.X=t.y*s,t.Y=t.x/s),b){case"all":l+=t.x,m+=t.y;break;case"e":if(t.x>=0&&(n>=g||s&&(0>=m||o>=h))){p=f;break}j+=t.x,s&&(k=j/s,m-=t.Y/2),0>j&&(b="w",j=0);break;case"n":if(t.y<=0&&(0>=m||s&&(0>=l||n>=g))){p=f;break}k-=t.y,m+=t.y,s&&(j=k*s,l+=t.X/2),0>k&&(b="s",k=0);break;case"w":if(t.x<=0&&(0>=l||s&&(0>=m||o>=h))){p=f;break}j-=t.x,l+=t.x,s&&(k=j/s,m+=t.Y/2),0>j&&(b="e",j=0);break;case"s":if(t.y>=0&&(o>=h||s&&(0>=l||n>=g))){p=f;break}k+=t.y,s&&(j=k*s,l-=t.X/2),0>k&&(b="n",k=0);break;case"ne":if(s){if(t.y<=0&&(0>=m||n>=g)){p=f;break}k-=t.y,m+=t.y,j=k*s}else t.x>=0?g>n?j+=t.x:t.y<=0&&0>=m&&(p=f):j+=t.x,t.y<=0?m>0&&(k-=t.y,m+=t.y):(k-=t.y,m+=t.y);0>k&&(b="sw",k=0,j=0);break;case"nw":if(s){if(t.y<=0&&(0>=m||0>=l)){p=f;break}k-=t.y,m+=t.y,j=k*s,l+=t.X}else t.x<=0?l>0?(j-=t.x,l+=t.x):t.y<=0&&0>=m&&(p=f):(j-=t.x,l+=t.x),t.y<=0?m>0&&(k-=t.y,m+=t.y):(k-=t.y,m+=t.y);0>k&&(b="se",k=0,j=0);break;case"sw":if(s){if(t.x<=0&&(0>=l||o>=h)){p=f;break}j-=t.x,l+=t.x,k=j/s}else t.x<=0?l>0?(j-=t.x,l+=t.x):t.y>=0&&o>=h&&(p=f):(j-=t.x,l+=t.x),t.y>=0?h>o&&(k+=t.y):k+=t.y;0>j&&(b="ne",k=0,j=0);break;case"se":if(s){if(t.x>=0&&(n>=g||o>=h)){p=f;break}j+=t.x,k=j/s}else t.x>=0?g>n?j+=t.x:t.y>=0&&o>=h&&(p=f):j+=t.x,t.y>=0?h>o&&(k+=t.y):k+=t.y;0>j&&(b="nw",k=0,j=0);break;case"move":c.left+=t.x,c.top+=t.y,this.renderImage("move"),p=f;break;case"zoom":r.zoomable&&(this.zoom(function(a,b,c,d,e,f){return(J(e*e+f*f)-J(c*c+d*d))/J(a*a+b*b)}(c.width,c.height,M(this.startX-this.startX2),M(this.startY-this.startY2),M(this.endX-this.endX2),M(this.endY-this.endY2))),this.endX2=this.startX2,this.endY2=this.startY2);break;case"crop":t.x&&t.y&&(a=this.$cropper.offset(),l=this.startX-a.left,m=this.startY-a.top,j=i.minWidth,k=i.minHeight,t.x>0?t.y>0?b="se":(b="ne",m-=k):t.y>0?(b="sw",l-=j):(b="nw",l-=j,m-=k),this.cropped||(this.cropped=e,this.$dragger.removeClass(q)))}p&&(i.width=j,i.height=k,i.left=l,i.top=m,this.directive=b,this.renderDragger()),this.startX=this.endX,this.startY=this.endY}},H.TEMPLATE=function(a,b){return b=b.split(","),a.replace(/\d+/g,function(a){return b[a]})}('<0 6="5-container"><0 6="5-canvas"></0><0 6="5-dragger"><1 6="5-viewer"></1><1 6="5-8 8-h"></1><1 6="5-8 8-v"></1><1 6="5-face" 3-2="all"></1><1 6="5-7 7-e" 3-2="e"></1><1 6="5-7 7-n" 3-2="n"></1><1 6="5-7 7-w" 3-2="w"></1><1 6="5-7 7-s" 3-2="s"></1><1 6="5-4 4-e" 3-2="e"></1><1 6="5-4 4-n" 3-2="n"></1><1 6="5-4 4-w" 3-2="w"></1><1 6="5-4 4-s" 3-2="s"></1><1 6="5-4 4-ne" 3-2="ne"></1><1 6="5-4 4-nw" 3-2="nw"></1><1 6="5-4 4-sw" 3-2="sw"></1><1 6="5-4 4-se" 3